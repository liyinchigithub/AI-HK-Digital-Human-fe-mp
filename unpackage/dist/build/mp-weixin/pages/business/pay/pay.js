(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/business/pay/pay"],{"60f1":function(e,t,n){"use strict";n.r(t);var o=n("ab10"),r=n.n(o);for(var a in o)["default"].indexOf(a)<0&&function(e){n.d(t,e,(function(){return o[e]}))}(a);t["default"]=r.a},8956:function(e,t,n){"use strict";(function(e,t){var o=n("47a9");n("34db"),n("3c60"),n("c891"),n("861b");o(n("3240"));var r=o(n("99a2"));e.__webpack_require_UNI_MP_PLUGIN__=n,t(r.default)}).call(this,n("3223")["default"],n("df3c")["createPage"])},"99a2":function(e,t,n){"use strict";n.r(t);var o=n("ba17"),r=n("60f1");for(var a in r)["default"].indexOf(a)<0&&function(e){n.d(t,e,(function(){return r[e]}))}(a);n("dc24");var i=n("828b"),s=Object(i["a"])(r["default"],o["b"],o["c"],!1,null,"5450a14a",null,!1,o["a"],void 0);t["default"]=s.exports},ab10:function(e,t,n){"use strict";(function(e){var o=n("47a9");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=o(n("7eb4")),a=o(n("ee10")),i={data:function(){return{total_fee:1,order_no:"20221027011000101001010",out_trade_no:"2022102701100010100101001",description:"测试订单",type:"test",openid:"",custom:{a:"a",b:1},adpid:"1000000001"}},onLoad:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};t.code&&t.state&&setTimeout((function(){e.getOpenid({provider:"wxpay",code:t.code})}),300)},methods:{open:function(){this.order_no="test"+Date.now(),this.out_trade_no="".concat(this.order_no,"-1"),this.$refs.uniPay.open({total_fee:this.total_fee,order_no:this.order_no,out_trade_no:this.out_trade_no,description:this.description,type:this.type,qr_code:this.qr_code,openid:this.openid,custom:this.custom})},createOrder:function(e){this.order_no="test"+Date.now(),this.out_trade_no="".concat(this.order_no,"-1"),this.$refs.uniPay.createOrder({provider:e,total_fee:this.total_fee,order_no:this.order_no,out_trade_no:this.out_trade_no,description:this.description,type:this.type,qr_code:this.qr_code,openid:this.openid,custom:this.custom})},createQRcode:function(e){this.order_no="test"+Date.now(),this.out_trade_no="".concat(this.order_no,"-1"),this.$refs.uniPay.createOrder({provider:e,total_fee:this.total_fee,order_no:this.order_no,out_trade_no:this.out_trade_no,description:this.description,type:this.type,qr_code:!0,cancel_popup:!0,openid:this.openid,custom:this.custom})},getOrder:function(){var t=this;return(0,a.default)(r.default.mark((function n(){var o,a;return r.default.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,t.$refs.uniPay.getOrder({out_trade_no:t.out_trade_no,await_notify:!0});case 2:o=n.sent,o&&(a={"-1":"已关闭",1:"已支付",0:"未支付",2:"已部分退款",3:"已全额退款"},e.showToast({title:a[o.status]||o.errMsg,icon:"none"}));case 4:case"end":return n.stop()}}),n)})))()},refund:function(){var t=this;return(0,a.default)(r.default.mark((function n(){var o;return r.default.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,t.$refs.uniPay.refund({out_trade_no:t.out_trade_no});case 2:o=n.sent,o&&e.showToast({title:o.errMsg,icon:"none"});case 4:case"end":return n.stop()}}),n)})))()},getRefund:function(){var t=this;return(0,a.default)(r.default.mark((function n(){var o;return r.default.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,t.$refs.uniPay.getRefund({out_trade_no:t.out_trade_no});case 2:o=n.sent,o&&e.showModal({content:o.errMsg,showCancel:!1});case 4:case"end":return n.stop()}}),n)})))()},closeOrder:function(){var t=this;return(0,a.default)(r.default.mark((function n(){var o;return r.default.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,t.$refs.uniPay.closeOrder({out_trade_no:t.out_trade_no});case 2:o=n.sent,o&&e.showModal({content:o.errMsg,showCancel:!1});case 4:case"end":return n.stop()}}),n)})))()},getWeiXinJsCode:function(){var e=arguments,t=this;return(0,a.default)(r.default.mark((function n(){var o,a,i,s,c;return r.default.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return o=e.length>0&&void 0!==e[0]?e[0]:"snsapi_base",n.next=3,t.$refs.uniPay.getProviderAppId({provider:"wxpay",provider_pay_type:"jsapi"});case 3:a=n.sent,a.appid&&(i=a.appid,s=window.location.href.split("?")[0],c="https://open.weixin.qq.com/connect/oauth2/authorize?appid=".concat(i,"&redirect_uri=").concat(s,"&response_type=code&scope=").concat(o,"&state=STATE#wechat_redirect"),window.location.href=c);case 5:case"end":return n.stop()}}),n)})))()},getOpenid:function(t){var n=this;return(0,a.default)(r.default.mark((function o(){var a;return r.default.wrap((function(o){while(1)switch(o.prev=o.next){case 0:return o.next=2,n.$refs.uniPay.getOpenid(t);case 2:a=o.sent,a&&(n.openid=a.openid,e.showToast({title:"已获取到openid，可以开始支付",icon:"none"}));case 4:case"end":return o.stop()}}),o)})))()},onCreate:function(e){console.log("create: ",e)},onSuccess:function(e){console.log("success: ",e),e.user_order_success}},computed:{h5Env:function(){}}};t.default=i}).call(this,n("df3c")["default"])},ba17:function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"c",(function(){return a})),n.d(t,"a",(function(){return o}));var o={uniPay:function(){return Promise.all([n.e("common/vendor"),n.e("uni_modules/uni-pay/components/uni-pay/uni-pay")]).then(n.bind(null,"f909"))}},r=function(){var e=this.$createElement;this._self._c},a=[]},dc24:function(e,t,n){"use strict";var o=n("fcac"),r=n.n(o);r.a},fcac:function(e,t,n){}},[["8956","common/runtime","common/vendor"]]]);