(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/business/search/search"],{"46ae":function(e,t,n){"use strict";var o=n("4c35"),a=n.n(o);a.a},"4c35":function(e,t,n){},"5bab":function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return i})),n.d(t,"a",(function(){return o}));var o={uSearch:function(){return Promise.all([n.e("common/vendor"),n.e("uni_modules/uview-ui/components/u-search/u-search")]).then(n.bind(null,"430a"))},uEmpty:function(){return Promise.all([n.e("common/vendor"),n.e("uni_modules/uview-ui/components/u-empty/u-empty")]).then(n.bind(null,"5310"))},uRow:function(){return Promise.all([n.e("common/vendor"),n.e("uni_modules/uview-ui/components/u-row/u-row")]).then(n.bind(null,"926a"))},uCol:function(){return Promise.all([n.e("common/vendor"),n.e("uni_modules/uview-ui/components/u-col/u-col")]).then(n.bind(null,"7108"))},uBackTop:function(){return Promise.all([n.e("common/vendor"),n.e("uni_modules/uview-ui/components/u-back-top/u-back-top")]).then(n.bind(null,"8985"))}},a=function(){var e=this.$createElement;this._self._c},i=[]},ab49:function(e,t,n){"use strict";n.r(t);var o=n("d849"),a=n.n(o);for(var i in o)["default"].indexOf(i)<0&&function(e){n.d(t,e,(function(){return o[e]}))}(i);t["default"]=a.a},bf6d:function(e,t,n){"use strict";(function(e,t){var o=n("47a9");n("34db"),n("3c60"),n("c891"),n("861b");o(n("3240"));var a=o(n("fa76"));e.__webpack_require_UNI_MP_PLUGIN__=n,t(a.default)}).call(this,n("3223")["default"],n("df3c")["createPage"])},d849:function(e,t,n){"use strict";(function(e,n){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o={data:function(){return{isEmpty:!1,searchVal:"",product:{},title:"product-list",productList:[],renderImage:!1,scrollTop:0,mode:"square",iconStyle:{fontSize:"32rpx",color:"#409EFF"},pageNum:1,pageSize:6,total:0,loadingText:"加载中...",index:""}},methods:{search:function(t){var o=this;console.log(t),e.callFunction({name:"goods",data:{method:"getGoodsSearch",isEnable:!0,title:o.searchVal,pageNum:o.pageNum,pageSize:o.pageSize},success:function(e){o.productList=e.result.data,console.log("that.productList:",o.productList),n.hideNavigationBarLoading(),o.loadingText="加载更多",n.stopPullDownRefresh()}})},clear:function(){this.searchVal=""},goto:function(e){n.navigateTo({url:e})},getProductList:function(){this.pageNum=1,n.showNavigationBarLoading();var t=this;e.callFunction({name:"goods",data:{method:"getGoods",isEnable:!0,pageNum:t.pageNum,pageSize:t.pageSize},success:function(e){t.productList=e.result.data,console.log("that.productList:",t.productList),0==t.productList.length&&(t.isEmpty=!0),n.hideNavigationBarLoading(),t.loadingText="加载更多",n.stopPullDownRefresh()}})},getMoreNews:function(){var t=this;if(""!=t.loadingText&&"加载更多"!=t.loadingText)return t.loadingText="到底啦~",!1;t.loadingText="加载中...",t.pageNum++,e.callFunction({name:"goods",data:{method:"getGoods",isEnable:!0,pageNum:t.pageNum,pageSize:t.pageSize}}).then((function(e){if(t.loadingText="",console.log(e),t.productList=t.productList.concat(e.result.data),t.loadingText="加载更多",0==e.result.data.length)return 0==t.productList.length&&(t.isEmpty=!0),n.hideNavigationBarLoading(),t.loadingText="已加载全部",!1;n.hideNavigationBarLoading(),n.stopPullDownRefresh()})).catch((function(e){console.log(e)}))}},onReachBottom:function(){this.getMoreNews()},onLoad:function(){this.getProductList()},onShareAppMessage:function(){return{title:"师傅服务平台-用户端-搜索",path:"/pages/business/search/search"}},onShareTimeline:function(){return{title:"师傅服务平台-用户端-搜索",path:"/pages/business/search/search",imageUrl:"https://mp-e51575a6-5952-4ad5-bb31-45ff909d7f65.cdn.bspapp.com/cloudstorage/c89fedc8-0f75-4e8e-b151-ce90a17e7ce3.jpg"}}};t.default=o}).call(this,n("861b")["uniCloud"],n("df3c")["default"])},fa76:function(e,t,n){"use strict";n.r(t);var o=n("5bab"),a=n("ab49");for(var i in a)["default"].indexOf(i)<0&&function(e){n.d(t,e,(function(){return a[e]}))}(i);n("46ae");var u=n("828b"),c=Object(u["a"])(a["default"],o["b"],o["c"],!1,null,null,null,!1,o["a"],void 0);t["default"]=c.exports}},[["bf6d","common/runtime","common/vendor"]]]);