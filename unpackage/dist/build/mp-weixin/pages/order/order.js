(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/order/order"],{"122d":function(e,t,n){"use strict";var o=n("2ac9"),a=n.n(o);a.a},"273b":function(e,t,n){"use strict";(function(e,t){var o=n("47a9");n("34db"),n("3c60"),n("c891"),n("861b");o(n("3240"));var a=o(n("d4d0"));e.__webpack_require_UNI_MP_PLUGIN__=n,t(a.default)}).call(this,n("3223")["default"],n("df3c")["createPage"])},"2ac9":function(e,t,n){},"58eb":function(e,t,n){"use strict";(function(e,o){var a=n("47a9");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n("7ca3")),u={name:"",data:function(){return{overlayShow:!0,list:["全部","进行中","已完成","待评价","已取消","已退款"],curNow:0,isAllStatus:!0,isEmpty:!1,newsList:[{_id:"加载中",title:"加载中",created:0,orderGoodsName:"加载中",orderGoodsCount:"加载中",actualAmountPaid:"加载中",dateTime:0,isEnable:1,coverImage:{url:""},imageList:[{url:""}]}],collectionName:"getOrder",loadingText:"加载中...",pageNum:1,pageSize:4,total:0,maskShow:!0}},methods:{sectionChange:function(e){this.curNow=e,console.log("sectionChange 当前选中:".concat(e)),this.isAllStatus=0==e,this.getListData(e)},goto:function(t){e.navigateTo({url:t})},getListData:function(t){this.maskShow=!0,this.pageNum=1,e.showNavigationBarLoading();var n=this;console.log("getListData index:".concat(t)),console.log("getListData isAllStatus:".concat(n.isAllStatus)),n.isAllStatus=0==t,o.callFunction({name:"order",data:{methods:"getOrderList",pageNum:n.pageNum,pageSize:n.pageSize,isAllStatus:n.isAllStatus,orderStatus:Number(t),orderType:"普通订单",openID:e.getStorageSync("openID"),isEnable:!0},success:function(t){console.log("order getOrderList res:",t),n.newsList=t.result.data,console.log(t.result.data),0==n.newsList.length?n.isEmpty=!0:n.isEmpty=!1,n.overlayShow=!1,e.hideNavigationBarLoading(),e.stopPullDownRefresh(),n.loadingText="加载更多",console.log(t.result.data),n.maskShow=!1}})},getYMDHMS:function(e){var t=new Date(e),n=t.getFullYear()+"-",o=(t.getMonth()+1<10?"0"+(t.getMonth()+1):t.getMonth()+1)+"-",a=(t.getDate()<10?"0"+t.getDate():t.getDate())+" ",i=(t.getHours()<10?"0"+t.getHours():t.getHours())+":",u=(t.getMinutes()<10?"0"+t.getMinutes():t.getMinutes())+":",r=t.getSeconds()<10?"0"+t.getSeconds():t.getSeconds(),s=n+o+a+i+u+r;return s},getMoreNews:function(){var t=this;if(""!=t.loadingText&&"加载更多"!=t.loadingText)return t.loadingText="到底啦~",!1;t.loadingText="加载中...",e.showNavigationBarLoading(),t.pageNum++,o.callFunction({name:"order",data:(0,i.default)({methods:"getOrderList",isAllStatus:t.isAllStatus,orderStatus:t.curNow,orderType:"普通订单",openID:e.getStorageSync("openID"),userID:e.getStorageSync("userID"),isEnable:!0,pageNum:t.pageNum,pageSize:t.pageSize},"isEnable",1)}).then((function(n){if(t.loadingText="",console.log(n),t.newsList=t.newsList.concat(n.result.data),t.loadingText="加载更多",0==n.result.data.length)return 0==t.newsList.length?t.isEmpty=!0:t.isEmpty=!1,e.hideNavigationBarLoading(),t.loadingText="已加载全部",!1;t.overlayShow=!1,e.hideNavigationBarLoading()})).catch((function(e){console.log(e)}))}},created:function(){},onPullDownRefresh:function(){this.getListData(this.curNow)},onReachBottom:function(){this.getMoreNews()},onLoad:function(t){console.log("options.orderStatus:".concat(t.orderStatus)),void 0==t.orderStatus||""==t.orderStatus||null==t.orderStatus?this.curNow=0:this.curNow=Number(t.orderStatus),e.startPullDownRefresh(),this.getListData(t.orderStatus),console.log("当前页面:order")}};t.default=u}).call(this,n("df3c")["default"],n("861b")["uniCloud"])},aa22:function(e,t,n){"use strict";n.r(t);var o=n("58eb"),a=n.n(o);for(var i in o)["default"].indexOf(i)<0&&function(e){n.d(t,e,(function(){return o[e]}))}(i);t["default"]=a.a},aa90:function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return i})),n.d(t,"a",(function(){return o}));var o={uOverlay:function(){return Promise.all([n.e("common/vendor"),n.e("uni_modules/uview-ui/components/u-overlay/u-overlay")]).then(n.bind(null,"ff06"))},uLoadingIcon:function(){return Promise.all([n.e("common/vendor"),n.e("uni_modules/uview-ui/components/u-loading-icon/u-loading-icon")]).then(n.bind(null,"bcf2"))},uLoadingPage:function(){return Promise.all([n.e("common/vendor"),n.e("uni_modules/uview-ui/components/u-loading-page/u-loading-page")]).then(n.bind(null,"8e45"))},uSubsection:function(){return Promise.all([n.e("common/vendor"),n.e("uni_modules/uview-ui/components/u-subsection/u-subsection")]).then(n.bind(null,"587a"))},uEmpty:function(){return Promise.all([n.e("common/vendor"),n.e("uni_modules/uview-ui/components/u-empty/u-empty")]).then(n.bind(null,"5310"))},uniCard:function(){return n.e("uni_modules/uni-card/components/uni-card/uni-card").then(n.bind(null,"2d19"))},uRow:function(){return Promise.all([n.e("common/vendor"),n.e("uni_modules/uview-ui/components/u-row/u-row")]).then(n.bind(null,"926a"))},uCol:function(){return Promise.all([n.e("common/vendor"),n.e("uni_modules/uview-ui/components/u-col/u-col")]).then(n.bind(null,"7108"))},uLine:function(){return Promise.all([n.e("common/vendor"),n.e("uni_modules/uview-ui/components/u-line/u-line")]).then(n.bind(null,"a98b"))}},a=function(){var e=this,t=e.$createElement,n=(e._self._c,e.__map(e.newsList,(function(t,n){var o=e.__get_orig(t),a=e.getYMDHMS(t.created);return{$orig:o,m0:a}})));e.$mp.data=Object.assign({},{$root:{l0:n}})},i=[]},d4d0:function(e,t,n){"use strict";n.r(t);var o=n("aa90"),a=n("aa22");for(var i in a)["default"].indexOf(i)<0&&function(e){n.d(t,e,(function(){return a[e]}))}(i);n("122d");var u=n("828b"),r=Object(u["a"])(a["default"],o["b"],o["c"],!1,null,null,null,!1,o["a"],void 0);t["default"]=r.exports}},[["273b","common/runtime","common/vendor"]]]);