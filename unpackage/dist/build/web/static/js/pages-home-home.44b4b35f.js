(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-home-home"],{"04af":function(t,e,n){"use strict";n.d(e,"b",(function(){return a})),n.d(e,"c",(function(){return i})),n.d(e,"a",(function(){}));var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("moFab",{attrs:{defaultPost:"right"},on:{dragInit:function(e){arguments[0]=e=t.$handleEvent(e),t.drag_init.apply(void 0,arguments)},dragmove:function(e){arguments[0]=e=t.$handleEvent(e),t.drag_init.apply(void 0,arguments)},dragend:function(e){arguments[0]=e=t.$handleEvent(e),t.drag_init.apply(void 0,arguments)}}},[n("v-uni-view",{staticClass:"dropbox",class:[t.clsRight&&"right"]},[n("v-uni-view",{staticClass:"dropbtn",on:{click:function(e){e.stopPropagation(),arguments[0]=e=t.$handleEvent(e),t.change.apply(void 0,arguments)}}},[t.clsRight?t._e():n("div",{class:["close-icon mr5",t.open&&"active"]},[n("span"),n("span"),n("span")]),n("v-uni-text",[t._v("菜单")]),t.clsRight?n("div",{class:["close-icon ml5",t.open&&"active"]},[n("span"),n("span"),n("span")]):t._e()],1),n("v-uni-view",{staticClass:"dropup",style:{width:t.dropWhidth}},t._l(t.tabBarList,(function(e){return n("v-uni-view",{key:e.pagePath,staticClass:"drop-item",attrs:{url:e.pagePath},on:{click:function(n){arguments[0]=n=t.$handleEvent(n),t.tabRouter(e)}}},[n("v-uni-image",{staticClass:"iconimg",attrs:{src:""+e.iconPath}}),n("v-uni-text",[t._v(t._s(e.text))])],1)})),1)],1)],1)},i=[]},"0502":function(t,e,n){"use strict";n.r(e);var a=n("3649"),i=n.n(a);for(var o in a)["default"].indexOf(o)<0&&function(t){n.d(e,t,(function(){return a[t]}))}(o);e["default"]=i.a},"07d7":function(t,e,n){"use strict";var a=n("576c"),i=n.n(a);i.a},"0cc9":function(t,e,n){"use strict";var a=n("65e5"),i=n.n(a);i.a},"1ce2":function(t,e,n){"use strict";n("6a54");var a=n("f5bd").default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=a(n("46f1")),o={name:"moFabBar",components:{moFab:i.default},props:{tabBarList:{type:Array,default:function(){return[]}}},data:function(){return{open:!1,dropWhidth:0,dir:1}},computed:{clsRight:function(){return 1==this.dir}},methods:{drag_init:function(t){this.dir=t.dir},change:function(){this.open=!this.open,this.dropWhidth=this.open&&this.tabBarList.length?55*(this.tabBarList.length+.4)+"px":0},tabRouter:function(t){uni.switchTab({url:"/"+t.pagePath})}}};e.default=o},3649:function(t,e,n){"use strict";(function(t){n("6a54");var a=n("f5bd").default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,n("0c26"),n("aa9c"),n("c223"),n("795c"),n("c9b5"),n("bf0f"),n("ab80"),n("5c47");var i=a(n("2634")),o=a(n("2fdc")),s=a(n("46f1")),r=a(n("566d")),d={data:function(){return{showAIPanel:!1,messages:[],aiPanelMessages:[],inputText:"",loading:!1,scrollTop:0,isRecording:!1,tempFilePath:"",dir:1,isExpanded:!1}},computed:{dirText:function(){return 1==this.dir?"左":"右"}},components:{moFab:s.default,moFabTab:r.default},methods:{handleFabClick:function(){console.log("Fab clicked, current showAIPanel:",this.showAIPanel)},handlePanelToggle:function(t){console.log("Panel state:",t),this.showAIPanel=t},sendMessage:function(){var e=this;return(0,o.default)((0,i.default)().mark((function n(){var a,o,s,r,d,c,l,u,f,p,h;return(0,i.default)().wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(e.inputText.trim()&&!e.loading){n.next=2;break}return n.abrupt("return");case 2:if(s=uni.getStorageSync("qianfan_session"),null!==(a=s)&&void 0!==a&&a.conversation_id&&null!==(o=s)&&void 0!==o&&o.request_id){n.next=16;break}return n.prev=4,n.next=7,t.callFunction({name:"qianfan-chat",data:{action:"create_session",baseUrl:uni.getStorageSync("baseUrl")||"https://qianfan.baidubce.com"}});case 7:r=n.sent,d=r.result,0===d.code&&(s={conversation_id:d.data.conversation_id,request_id:d.data.request_id},uni.setStorageSync("qianfan_session",s)),n.next=16;break;case 12:return n.prev=12,n.t0=n["catch"](4),console.error("会话创建失败:",n.t0),n.abrupt("return");case 16:return c={role:"user",content:e.inputText,time:e.getCurrentTime()},e.messages.push(c),l=e.inputText,e.inputText="",e.scrollToBottom(),n.prev=21,e.loading=!0,n.next=25,t.callFunction({name:"qianfan-chat",data:{query:l,conversation_id:s.conversation_id,baseUrl:uni.getStorageSync("baseUrl")||"https://qianfan.baidubce.com"},timeout:6e4});case 25:u=n.sent,f=u.result,0===f.code&&(h=f.data.response||"未收到有效回复",e.messages.push({role:"ai",content:h,time:e.getCurrentTime()}),e.aiPanelMessages=[{role:"user",content:l,time:e.getCurrentTime()},{role:"ai",content:h,time:e.getCurrentTime()}],null!==(p=f.data)&&void 0!==p&&p.conversation_id&&(s.conversation_id=f.data.conversation_id,uni.setStorageSync("qianfan_session",s))),n.next=33;break;case 30:n.prev=30,n.t1=n["catch"](21),e.messages.push({role:"ai",content:"出错啦：".concat(n.t1.message),time:e.getCurrentTime()});case 33:return n.prev=33,e.loading=!1,e.scrollToBottom(),n.finish(33);case 37:case"end":return n.stop()}}),n,null,[[4,12],[21,30,33,37]])})))()},checkAudioFile:function(t){return(0,o.default)((0,i.default)().mark((function e(){var n,a;return(0,i.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,console.log("正在检查文件:",t),e.next=4,uni.getFileInfo({filePath:t});case 4:n=e.sent,console.log("音频文件信息:",n),"getFileInfo:ok"===n.errMsg?(a=uni.createInnerAudioContext(),a.src=t,a.onError((function(t){console.error("音频播放失败:",t)})),a.play(),console.log("尝试播放音频...")):console.error("文件检查失败:",n.errMsg),e.next=12;break;case 9:e.prev=9,e.t0=e["catch"](0),console.error("文件检查异常:",e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})))()},startVoiceInput:function(){var t=this;this.isRecording=!0,uni.startRecord({format:"silk",sampleRate:16e3,numberOfChannels:1,success:function(e){console.log("录音成功，临时文件路径:",e.tempFilePath),t.tempFilePath=e.tempFilePath,t.checkAudioFile(e.tempFilePath)},fail:function(e){console.error("录音失败:",e),t.isRecording=!1}})},endVoiceInput:function(){var e=this;return(0,o.default)((0,i.default)().mark((function n(){var a,o,s;return(0,i.default)().wrap((function(n){while(1)switch(n.prev=n.next){case 0:return e.isRecording=!1,uni.stopRecord({success:function(){console.log("录音已停止，文件路径:",e.tempFilePath),e.checkAudioFile(e.tempFilePath)}}),n.prev=2,console.log("开始上传文件..."),n.next=6,t.uploadFile({filePath:e.tempFilePath,cloudPath:"voice/".concat(Date.now(),".wav")});case 6:return a=n.sent,console.log("文件上传结果:",a),n.next=10,t.callFunction({name:"speech-to-text",data:{fileID:a.fileID}});case 10:if(o=n.sent,s=o.result,0!==s.code){n.next=19;break}return e.messages.push({role:"user",content:s.text,time:e.getCurrentTime()}),e.aiPanelMessages.push(msg),e.inputText=s.text,n.next=18,e.sendMessage();case 18:e.scrollToBottom();case 19:n.next=25;break;case 21:n.prev=21,n.t0=n["catch"](2),console.error("语音识别失败:",n.t0),uni.showToast({title:"语音识别失败",icon:"none"});case 25:case"end":return n.stop()}}),n,null,[[2,21]])})))()},getCurrentTime:function(){var t=new Date;return"".concat(t.getHours(),":").concat(t.getMinutes().toString().padStart(2,"0"))},handleClosePanel:function(){this.showAIPanel=!1,console.log("关闭弹窗，当前状态：",this.showAIPanel)},scrollToBottom:function(){var t=this;this.$nextTick((function(){var e=uni.createSelectorQuery().in(t);e.select(".message-list").boundingClientRect(),e.exec((function(e){var n;null!==e&&void 0!==e&&null!==(n=e[0])&&void 0!==n&&n.height&&(t.scrollTop=e[0].height+Math.random())}))}))}}};e.default=d}).call(this,n("861b")["uniCloud"])},"46f1":function(t,e,n){"use strict";n.r(e);var a=n("f85e"),i=n("535c");for(var o in i)["default"].indexOf(o)<0&&function(t){n.d(e,t,(function(){return i[t]}))}(o);n("5456");var s=n("828b"),r=Object(s["a"])(i["default"],a["b"],a["c"],!1,null,"61157dd8",null,!1,a["a"],void 0);e["default"]=r.exports},"535c":function(t,e,n){"use strict";n.r(e);var a=n("6774"),i=n.n(a);for(var o in a)["default"].indexOf(o)<0&&function(t){n.d(e,t,(function(){return a[t]}))}(o);e["default"]=i.a},5456:function(t,e,n){"use strict";var a=n("6efc"),i=n.n(a);i.a},"566d":function(t,e,n){"use strict";n.r(e);var a=n("04af"),i=n("712a");for(var o in i)["default"].indexOf(o)<0&&function(t){n.d(e,t,(function(){return i[t]}))}(o);n("0cc9");var s=n("828b"),r=Object(s["a"])(i["default"],a["b"],a["c"],!1,null,"f37283f8",null,!1,a["a"],void 0);e["default"]=r.exports},"576c":function(t,e,n){var a=n("6c68");a.__esModule&&(a=a.default),"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var i=n("967d").default;i("0d8f019e",a,!0,{sourceMap:!1,shadowMode:!1})},"65e5":function(t,e,n){var a=n("dd29");a.__esModule&&(a=a.default),"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var i=n("967d").default;i("65245e5e",a,!0,{sourceMap:!1,shadowMode:!1})},6774:function(t,e,n){"use strict";n("6a54");var a=n("f5bd").default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=a(n("9b1b"));n("64aa"),n("5c47"),n("473f"),n("bf0f");var o={name:"moFab",props:{type:{type:String,default:"left-right"},defaultPost:{type:String,default:"left"},defaultY:{type:Number,default:120},xGap:{type:Number,default:30},topGap:{type:Number,default:200},bottomGap:{type:Number,default:80},defer:{type:Boolean,default:!0},deferVal:{type:Number,default:150},showPanel:{type:Boolean,default:!1}},data:function(){return{fabWidth:50,fabHeight:50,start:[0,0],move:[0,0],pages:[0,0],animationData:{},times:[0,0],showAIPanel:this.showPanel}},computed:{zScopedSlots:function(){return this.$scopedSlots},zSlots:function(){return this.$slots}},mounted:function(){this.initmove()},methods:{handleClick:function(t){console.log("moFab handleClick called"),this.toggleAIPanel(),this.$emit("click",t)},toggleAIPanel:function(){this.showAIPanel=!this.showAIPanel,console.log("Panel state changed to:",this.showAIPanel),this.$emit("update:showPanel",this.showAIPanel),this.$emit("panel-toggle",this.showAIPanel)},getPageHeight:function(){var t=uni.getSystemInfoSync(),e=t.windowWidth,n=t.windowHeight,a=750/e;return this.pages=[e,n],{pxToRpxScale:a}},initmove:function(){var t=this,e=this.getPageHeight(),n=e.pxToRpxScale,a=this.defaultY/n,i=this.bottomGap/n,o=uni.createSelectorQuery().in(this);o.select(".mo-fab").boundingClientRect((function(e){if(e){t.fabWidth=e.width,t.fabHeight=e.height;var o=t.pages[0]-t.fabWidth-t.xGap/n,s=t.pages[1]-t.fabHeight-(i>a?i:a);"left"==t.defaultPost&&(o=t.xGap/n);var r=o>(t.pages[0]-t.fabWidth)/2?-1:1;t.move=[o,s],t.setmove({duration:0,timingFunction:"linear",x:t.move[0],y:t.move[1]}),t.$emit("dragInit",{dir:r,grid:t.move})}})).exec()},setmove:function(t){var e=Object.assign({duration:0,timingFunction:"linear",x:0,y:0},t),n=e.duration,a=e.timingFunction,i=e.x,o=e.y,s=uni.createAnimation({duration:n,timingFunction:a,delay:0});s.translate(i,o).step(),this.animation=s,this.animationData=this.animation.export()},drag_start:function(t){var e=t.touches[0]||t.changedTouches[0];this.start=[e.clientX,e.clientY],this.times[0]=t.timeStamp,this.$emit("dragstart",t)},drag_move:function(t){var e=t.touches[0]||t.changedTouches[0],n=this.move[0]-this.start[0]+e.clientX,a=this.move[1]-this.start[1]+e.clientY,o=n>(this.pages[0]-this.fabWidth)/2?-1:1;this.setmove({duration:0,timingFunction:"linear",x:n,y:a}),this.$emit("dragmove",(0,i.default)((0,i.default)({},t),{},{dir:o,grid:this.move}))},drag_end:function(t){var e=t.touches[0]||t.changedTouches[0];this.times[1]=t.timeStamp;var n=this.times.reduce((function(t,e){return e-t}),0),a=this.getPageHeight(),o=a.pxToRpxScale,s=this.xGap/o,r=this.topGap/o,d=this.bottomGap/o,c=this.pages[0]-this.fabWidth-s,l=this.pages[1]-this.fabHeight-d,u=e.clientX-this.start[0],f=e.clientY-this.start[1],p=this.move[0]+u,h=this.move[1]+f;this.defer&&(p+=this.getEndPost(u,n),h+=this.getEndPost(f,n)),h=h<r?r:h>l?l:h,"left"==this.type&&(p=s),"right"==this.type&&(p=c),"left-right"==this.type&&(p=p>(this.pages[0]-this.fabWidth)/2?c:s),"none"==this.type&&(p=p<s?s:p>c?c:p);var g=p>(this.pages[0]-this.fabWidth)/2?-1:1;this.move=[p,h],this.setmove({duration:250,timingFunction:"ease-out",x:this.move[0],y:this.move[1]}),this.$emit("dragend",(0,i.default)((0,i.default)({},t),{},{dir:g,grid:this.move}))},getEndPost:function(t,e){var n=2*t/Math.pow(e,2),a=Math.abs(+(10*n).toFixed(4));return n=a<.01?0:n,n*Math.pow(this.deferVal,2)/2}}};e.default=o},"6c68":function(t,e,n){var a=n("c86c");e=a(!1),e.push([t.i,".container[data-v-785df048]{height:100vh;display:flex;flex-direction:column;overflow:hidden}.message-list[data-v-785df048]{flex:1;padding:%?20?%;background-color:#f5f5f5;width:100vw;overflow-x:hidden}.message-item[data-v-785df048]{margin:%?20?% 0;max-width:80%;width:-webkit-fit-content;width:fit-content}.message-content[data-v-785df048]{padding-top:%?10?%;\r\n\t/* 增加内容顶部间距 */padding:%?20?%;border-radius:%?10?%;font-size:%?28?%;line-height:1.5;word-break:break-word}.user-message[data-v-785df048]{margin-left:auto;margin-right:%?25?%}.user-message .message-content[data-v-785df048]{background-color:#007aff;color:#fff;max-width:100%;padding:%?20?% %?25?%}.ai-message .message-content[data-v-785df048]{background-color:#fff;border:%?1?% solid #eee}.message-time[data-v-785df048]{font-size:%?20?%;color:#999;margin-top:%?10?%;text-align:right}.input-area[data-v-785df048]{display:flex;padding:%?20?%;background-color:#fff;border-top:%?1?% solid #eee}.input[data-v-785df048]{flex:1;border:%?1?% solid #ddd;border-radius:%?40?%;padding:%?15?% %?30?%;margin-right:%?20?%}.send-button[data-v-785df048]{background-color:#007aff;color:#fff;border-radius:%?40?%;padding:0 %?40?%;transition:opacity .3s}.send-button[disabled][data-v-785df048]{opacity:.6}.loading-text[data-v-785df048]{color:#999;text-align:center;padding:%?20?%}\r\n\r\n/* AI悬浮窗口样式 */.ai-panel[data-v-785df048]{position:fixed;top:50%;left:50%;-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%);width:90%;height:85%;background:#fff;border-radius:%?20?%;box-shadow:0 0 %?30?% rgba(0,0,0,.2);z-index:999;display:flex;flex-direction:column}.ai-panel-header[data-v-785df048]{height:30%;position:relative}.ai-gif[data-v-785df048]{width:100%;height:100%}.close-btn[data-v-785df048]{position:absolute;right:%?20?%;top:%?20?%;font-size:%?40?%;width:%?50?%;height:%?50?%;text-align:center;line-height:%?50?%;background:rgba(0,0,0,.2);border-radius:50%;color:#fff}.ai-panel-content[data-v-785df048]{position:relative;height:90vh;padding:0 %?20?% %?150?%;display:flex;flex-direction:column;justify-content:center\r\n\t/* 新增垂直居中 */}.ai-message-list[data-v-785df048]{width:100%;\r\n\t/* 使用全宽 */padding:0 %?20?%;\r\n\t/* 添加左右内边距 */max-height:80vh!important}.message-item[data-v-785df048]{margin:0 0 %?20?%;\r\n\t/* 调整外边距 */width:100%}\r\n\r\n/* 弹窗用户消息样式 */.ai-panel-content .user-message .message-content[data-v-785df048]{background:transparent!important;\r\n\t/* 移除背景 */border:none!important;\r\n\t/* 移除边框 */color:#2b85e4;margin:%?10?% 0;\r\n\t/* 简化边距 */padding:%?10?%;\r\n\t/* 减少内边距 */box-shadow:none!important\r\n\t/* 移除阴影 */}\r\n\r\n/* 弹窗AI消息样式 */.ai-panel-content .ai-message .message-content[data-v-785df048]{background:transparent!important;border:none!important;color:#333;margin:%?10?% 0;padding:%?10?%;box-shadow:none!important}\r\n\r\n/* 调整折叠条件 */.message-content.collapsed[data-v-785df048]{-webkit-line-clamp:3;\r\n\t/* 显示更多行数 */max-height:%?120?%}\r\n\r\n/* 展开控制按钮 */.expand-control[data-v-785df048]{text-align:center;color:#007aff;padding:%?10?%;font-size:%?24?%}.voice-btn[data-v-785df048]{position:fixed;margin-top:%?20?%;bottom:%?40?%;\r\n\t/* 增加底部间距 */left:50%;-webkit-transform:translateX(-50%) scale(1);transform:translateX(-50%) scale(1);width:%?150?%;height:%?150?%;border-radius:50%;background:linear-gradient(90deg,#cd56ff,#833ad6);border:%?4?% solid rgba(250,121,255,.8);box-shadow:0 %?7?% %?18?% 0 rgba(107,14,195,.38);background-image:url(/static/语音.png);background-size:%?80?% %?80?%;background-position:50%;background-repeat:no-repeat;z-index:9999\r\n\t/* 提升层级 */}.voice-btn.recording[data-v-785df048]{background:#ff4d4d;-webkit-animation:pulse-data-v-785df048 1.5s infinite;animation:pulse-data-v-785df048 1.5s infinite;\r\n\t/* 保持录音状态下的背景图片 */background-image:url(/static/语音.png);background-size:%?80?% %?80?%;background-position:50%;background-repeat:no-repeat}@-webkit-keyframes pulse-data-v-785df048{0%{-webkit-transform:translateX(-50%) scale(1);transform:translateX(-50%) scale(1)\r\n\t\t/* 保持定位转换 */}50%{-webkit-transform:translateX(-50%) scale(1.1);transform:translateX(-50%) scale(1.1)\r\n\t\t/* 合并转换属性 */}100%{-webkit-transform:translateX(-50%) scale(1);transform:translateX(-50%) scale(1)}}@keyframes pulse-data-v-785df048{0%{-webkit-transform:translateX(-50%) scale(1);transform:translateX(-50%) scale(1)\r\n\t\t/* 保持定位转换 */}50%{-webkit-transform:translateX(-50%) scale(1.1);transform:translateX(-50%) scale(1.1)\r\n\t\t/* 合并转换属性 */}100%{-webkit-transform:translateX(-50%) scale(1);transform:translateX(-50%) scale(1)}}",""]),t.exports=e},"6efc":function(t,e,n){var a=n("af49");a.__esModule&&(a=a.default),"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var i=n("967d").default;i("a0e83964",a,!0,{sourceMap:!1,shadowMode:!1})},"712a":function(t,e,n){"use strict";n.r(e);var a=n("1ce2"),i=n.n(a);for(var o in a)["default"].indexOf(o)<0&&function(t){n.d(e,t,(function(){return a[t]}))}(o);e["default"]=i.a},8129:function(t,e,n){"use strict";n.r(e);var a=n("ec92"),i=n("0502");for(var o in i)["default"].indexOf(o)<0&&function(t){n.d(e,t,(function(){return i[t]}))}(o);n("07d7");var s=n("828b"),r=Object(s["a"])(i["default"],a["b"],a["c"],!1,null,"785df048",null,!1,a["a"],void 0);e["default"]=r.exports},af49:function(t,e,n){var a=n("c86c");e=a(!1),e.push([t.i,'@charset "UTF-8";\n/**\n * 这里是uni-app内置的常用样式变量\n *\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\n *\n */\n/**\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\n *\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\n */\n/* uni.scss */\n/* uni.scss */\n/* 颜色变量 */\n/* 行为相关颜色 */\n/* 文字基本颜色 */\n/* 背景颜色 */\n/* 边框颜色 */\n/* 尺寸变量 */\n/* 文字尺寸 */\n/* 图片尺寸 */\n/* Border Radius */\n/* 水平间距 */\n/* 垂直间距 */\n/* 透明度 */\n/* 文章场景相关 */\n/* 新增AI面板样式 */.ai-panel[data-v-61157dd8]{position:fixed;top:50%;left:50%;-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%);width:80%;height:70%;background:#fff;border-radius:%?20?%;box-shadow:0 0 %?30?% rgba(0,0,0,.2);z-index:999;display:flex;flex-direction:column}.ai-panel-header[data-v-61157dd8]{height:2%}.ai-gif[data-v-61157dd8]{width:100%;height:100%}.close-btn[data-v-61157dd8]{position:absolute;right:%?20?%;top:%?20?%;font-size:%?40?%;width:%?50?%;height:%?50?%;text-align:center;line-height:%?50?%;background:rgba(0,0,0,.2);border-radius:50%;color:#fff}.ai-panel-content[data-v-61157dd8]{flex:1;padding:%?20?%;display:flex;flex-direction:column;overflow:hidden}\n/* 修改消息列表样式 */.ai-message-list[data-v-61157dd8]{flex:1;margin-bottom:%?20?%;overflow-y:auto}\n/* 修改语音按钮样式 */.voice-btn[data-v-61157dd8]{align-self:center;\n  /* 确保按钮居中 */margin:%?20?% auto;\n  /* 上下20rpx，左右自动居中 */width:%?80?%;height:%?80?%;border-radius:50%;background:#71d5a1;display:flex;justify-content:center;align-items:center;border:none}.mo-fab[data-v-61157dd8]{display:block;position:fixed;top:0;left:0;color:#000;z-index:1000;-webkit-user-select:none;user-select:none}.mo-fab--wrap[data-v-61157dd8]{display:flex;justify-content:center;align-items:center;border-radius:50%;height:%?100?%;width:%?100?%;color:#fff;box-shadow:0 %?7?% %?18?% 0 rgba(107,14,195,.38);border:%?4?% solid rgba(250,121,255,.8);background:linear-gradient(90deg,#cd56ff,#833ad6)}',""]),t.exports=e},dd29:function(t,e,n){var a=n("c86c");e=a(!1),e.push([t.i,'@charset "UTF-8";\n/**\n * 这里是uni-app内置的常用样式变量\n *\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\n *\n */\n/**\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\n *\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\n */\n/* uni.scss */\n/* uni.scss */\n/* 颜色变量 */\n/* 行为相关颜色 */\n/* 文字基本颜色 */\n/* 背景颜色 */\n/* 边框颜色 */\n/* 尺寸变量 */\n/* 文字尺寸 */\n/* 图片尺寸 */\n/* Border Radius */\n/* 水平间距 */\n/* 垂直间距 */\n/* 透明度 */\n/* 文章场景相关 */.dropbox[data-v-f37283f8]{width:%?100?%;height:%?100?%;border-radius:50%;display:flex;align-items:center;justify-content:center;color:#fff;box-shadow:0 0 5px 2px rgba(0,0,0,.2)}.dropbox.right .dropup[data-v-f37283f8]{right:inherit;margin-left:80%;margin-right:0;left:0;border-radius:0 %?50?% %?50?% 0}.dropbtn[data-v-f37283f8]{width:100%;height:100%;display:flex;align-items:center;justify-content:center;text-align:center;position:relative;border-radius:50%;z-index:2;font-size:%?24?%;background:#9058eb}.dropup[data-v-f37283f8]{position:absolute;top:50%;right:0;height:70%;margin-right:80%;-webkit-transform:translateY(-50%);transform:translateY(-50%);display:flex;align-items:center;justify-content:center;padding:0;background:#9058eb;border-radius:%?50?% 0 0 %?50?%;font-size:%?24?%;overflow:hidden;z-index:1;transition:margin .2s,width .2s,-webkit-transform .2s;transition:transform .2s,margin .2s,width .2s;transition:transform .2s,margin .2s,width .2s,-webkit-transform .2s;box-shadow:0 0 5px 2px rgba(0,0,0,.2)}.dropup .drop-item[data-v-f37283f8]{white-space:nowrap;display:flex;align-items:center;justify-content:center;padding:0 %?10?%;height:100%}.iconimg[data-v-f37283f8]{width:%?30?%;height:%?30?%;margin-right:%?10?%}.close-icon[data-v-f37283f8]{display:block;position:relative;width:10px}.close-icon span[data-v-f37283f8]{display:block;width:100%;height:%?3?%;background-color:#fff;border-radius:%?4?% %?4?%;transition:opacity .2s,height .2s,-webkit-transform .2s;transition:transform .2s,opacity .2s,height .2s;transition:transform .2s,opacity .2s,height .2s,-webkit-transform .2s;opacity:1}.close-icon span[data-v-f37283f8]:nth-of-type(2){margin:%?6?% 0;width:8px}.close-icon.active span[data-v-f37283f8]{height:%?2?%}.close-icon.active span[data-v-f37283f8]:nth-of-type(1){-webkit-transform:rotate(45deg) translateY(50%);transform:rotate(45deg) translateY(50%)}.close-icon.active span[data-v-f37283f8]:nth-of-type(3){-webkit-transform:rotate(-45deg) translateY(-50%);transform:rotate(-45deg) translateY(-50%)}.close-icon.active span[data-v-f37283f8]:nth-of-type(2){opacity:0;height:%?0?%;position:absolute}',""]),t.exports=e},ec92:function(t,e,n){"use strict";n.d(e,"b",(function(){return a})),n.d(e,"c",(function(){return i})),n.d(e,"a",(function(){}));var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-uni-view",{staticClass:"container"},[n("v-uni-scroll-view",{staticClass:"message-list",attrs:{"scroll-y":!0,"scroll-top":t.scrollTop,"scroll-with-animation":!0}},[t._l(t.messages,(function(e,a){return n("v-uni-view",{key:a,staticClass:"message-item",class:["user"===e.role?"user-message":"ai-message"]},[n("v-uni-view",{staticClass:"message-content"},[t._v(t._s(e.content))]),n("v-uni-view",{staticClass:"message-time"},[t._v(t._s(e.time))])],1)})),t.loading?n("v-uni-view",{staticClass:"loading-text"},[t._v("AI正在思考中...")]):t._e()],2),n("v-uni-view",{staticClass:"input-area"},[n("v-uni-input",{staticClass:"input",attrs:{placeholder:"请输入问题",disabled:t.loading},on:{confirm:function(e){arguments[0]=e=t.$handleEvent(e),t.sendMessage.apply(void 0,arguments)}},model:{value:t.inputText,callback:function(e){t.inputText=e},expression:"inputText"}}),n("v-uni-button",{staticClass:"send-button",attrs:{disabled:t.loading},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.sendMessage.apply(void 0,arguments)}}},[t._v(t._s(t.loading?"发送中...":"发送"))])],1),n("moFab",{on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.handleFabClick.apply(void 0,arguments)},"panel-toggle":function(e){arguments[0]=e=t.$handleEvent(e),t.handlePanelToggle.apply(void 0,arguments)}},scopedSlots:t._u([{key:"content",fn:function(){return[n("v-uni-image",{staticStyle:{width:"60rpx",height:"60rpx"},attrs:{src:"/static/ai语音管家.png"}})]},proxy:!0},{key:"ai-content",fn:function(){return[n("v-uni-view",{staticClass:"ai-panel-content"},[n("v-uni-view",{staticClass:"close-btn",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.handleClosePanel.apply(void 0,arguments)}}},[t._v("×")]),n("v-uni-scroll-view",{staticClass:"ai-message-list",style:{maxHeight:t.isExpanded?"none":"70vh"},attrs:{"scroll-y":!0}},t._l(t.aiPanelMessages,(function(e,a){return n("v-uni-view",{key:a,staticClass:"message-item",class:["user"===e.role?"user-message":"ai-message"]},[n("v-uni-view",{staticClass:"message-content",class:{collapsed:!t.isExpanded&&a<t.aiPanelMessages.length-2}},[t._v(t._s(e.content))])],1)})),1),n("v-uni-button",{staticClass:"voice-btn",class:{recording:t.isRecording},on:{touchstart:function(e){arguments[0]=e=t.$handleEvent(e),t.startVoiceInput.apply(void 0,arguments)},touchend:function(e){arguments[0]=e=t.$handleEvent(e),t.endVoiceInput.apply(void 0,arguments)}}})],1)]},proxy:!0}]),model:{value:t.showAIPanel,callback:function(e){t.showAIPanel=e},expression:"showAIPanel"}})],1)},i=[]},f85e:function(t,e,n){"use strict";n.d(e,"b",(function(){return a})),n.d(e,"c",(function(){return i})),n.d(e,"a",(function(){}));var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-uni-view",[n("v-uni-view",{staticClass:"mo-fab",attrs:{animation:t.animationData},on:{touchstart:function(e){arguments[0]=e=t.$handleEvent(e),t.drag_start.apply(void 0,arguments)},touchmove:function(e){e.stopPropagation(),e.preventDefault(),arguments[0]=e=t.$handleEvent(e),t.drag_move.apply(void 0,arguments)},touchend:function(e){e.stopPropagation(),arguments[0]=e=t.$handleEvent(e),t.drag_end.apply(void 0,arguments)},touchcancel:function(e){e.stopPropagation(),arguments[0]=e=t.$handleEvent(e),t.drag_end.apply(void 0,arguments)},click:function(e){e.stopPropagation(),arguments[0]=e=t.$handleEvent(e),t.handleClick.apply(void 0,arguments)}}},[n("v-uni-view",[t.$scopedSlots.default||t.$slots.default?t._t("default"):[n("v-uni-view",{staticClass:"mo-fab--wrap"},[t.$scopedSlots.content||t.$slots.content?t._t("content"):n("v-uni-text",[t._v("示例")])],2)]],2)],1),t.showAIPanel?n("v-uni-view",{staticClass:"ai-panel"},[n("v-uni-view",{staticClass:"ai-panel-content"},[t._t("ai-content")],2)],1):t._e()],1)},i=[]}}]);