(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-business-test-test"],{"2f5b":function(e,n,t){"use strict";t.r(n);var o=t("e38c"),a=t.n(o);for(var i in o)["default"].indexOf(i)<0&&function(e){t.d(n,e,(function(){return o[e]}))}(i);n["default"]=a.a},"320d":function(e,n,t){"use strict";t.r(n);var o=t("3a98"),a=t("4668");for(var i in a)["default"].indexOf(i)<0&&function(e){t.d(n,e,(function(){return a[e]}))}(i);var u=t("828b"),s=Object(u["a"])(a["default"],o["b"],o["c"],!1,null,"63f89100",null,!1,o["a"],void 0);n["default"]=s.exports},"3a98":function(e,n,t){"use strict";t.d(n,"b",(function(){return a})),t.d(n,"c",(function(){return i})),t.d(n,"a",(function(){return o}));var o={uniFilePicker:t("758b").default},a=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("v-uni-view",[t("uni-file-picker",{attrs:{title:e.title,fileMediatype:e.fileMediatype,mode:e.mode,"auto-upload":!0,"file-extname":["png","jpg","jpeg"],limit:e.limit},on:{select:function(n){arguments[0]=n=e.$handleEvent(n),e.select.apply(void 0,arguments)},progress:function(n){arguments[0]=n=e.$handleEvent(n),e.progress.apply(void 0,arguments)},success:function(n){arguments[0]=n=e.$handleEvent(n),e.success.apply(void 0,arguments)},fail:function(n){arguments[0]=n=e.$handleEvent(n),e.fail.apply(void 0,arguments)}},model:{value:e.imageValue,callback:function(n){e.imageValue=n},expression:"imageValue"}})],1)},i=[]},4668:function(e,n,t){"use strict";t.r(n);var o=t("b34f"),a=t.n(o);for(var i in o)["default"].indexOf(i)<0&&function(e){t.d(n,e,(function(){return o[e]}))}(i);n["default"]=a.a},b34f:function(e,n,t){"use strict";t("6a54"),Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,t("aa9c"),t("d4b5");var o={name:"updateFile",props:{},data:function(){return{fileMediatype:"image",mode:"grid",imageValue:[],limit:2,title:"这是title"}},methods:{select:function(e){console.log("选择文件：",e),this.imageValue.push(e.tempFiles[0].url),console.log("this.imageValue：",JSON.parse(JSON.stringify(this.imageValue)))},progress:function(e){console.log("上传进度：",e)},success:function(e){console.log("上传成功")},fail:function(e){console.log("上传失败：",e)}}};n.default=o},df3c:function(e,n,t){"use strict";t.r(n);var o=t("ea90"),a=t("2f5b");for(var i in a)["default"].indexOf(i)<0&&function(e){t.d(n,e,(function(){return a[e]}))}(i);var u=t("828b"),s=Object(u["a"])(a["default"],o["b"],o["c"],!1,null,"d6886498",null,!1,o["a"],void 0);n["default"]=s.exports},e38c:function(e,n,t){"use strict";(function(e){t("6a54");var o=t("f5bd").default;Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=o(t("2634")),i=o(t("2fdc"));t("01a2"),t("e39c");var u=o(t("320d")),s={components:{updateFile:u.default},data:function(){return{src:"",total_fee:1,order_no:"234234234",out_trade_no:"",description:"测试订单",type:"test",custom:{a:"a",b:1},formData:{userInfo:{avatar:""}}}},onLoad:function(e){console.log(e)},methods:{open:function(){this.order_no="test"+Date.now(),this.out_trade_no="".concat(this.order_no,"-1"),this.$refs.uniPay.open({total_fee:this.total_fee,order_no:this.order_no,out_trade_no:this.out_trade_no,description:this.description,type:this.type,custom:this.custom})},updateFile:function(){var n=this;uni.chooseImage({count:1,success:function(){var t=(0,i.default)((0,a.default)().mark((function t(o){var i;return(0,a.default)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(console.log(o),!(o.tempFilePaths.length>0)){t.next=6;break}return i=o.tempFilePaths[0],t.next=5,e.uploadFile({filePath:i,cloudPath:"a.jpg",success:function(e){console.log(e),console.log(e.fileID),n.src=e.fileID},fail:function(){},onUploadProgress:function(e){console.log(e);Math.round(100*e.loaded/e.total)}});case 5:t.sent;case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()})},wxGetUserInfo:function(){this.tologin("weixin")},tologin:function(e){var n=this;uni.login({provider:e,success:function(e){n.loginVal=e,n.getUserInfo((function(e){var t={code:n.loginVal.code,rawData:e.rawData,nickName:e.userInfo.nickName,gender:e.userInfo.gender,avatarUrl:e.userInfo.avatarUrl,signature:e.signature,encryptedData:e.encryptedData,iv:e.iv,language:e.userInfo.language,city:e.userInfo.city,province:e.userInfo.province,country:e.userInfo.country};n.apiJscode2session(t)}))},fail:function(e){}})},apiJscode2session:function(n){return(0,i.default)((0,a.default)().mark((function t(){var o;return(0,a.default)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return o=e.importObject("col"),t.next=3,o.wxjscode2session(n);case 3:t.sent;case 5:case"end":return t.stop()}}),t)})))()},getUserInfo:function(e){e=e||function(){},uni.getUserInfo({provider:"weixin",success:function(n){e(n)}})},sendMessage:function(){e.callFunction({name:"sendSubscriptionIDMessage",data:{openId:"oTDxt5Rg2FLfsGHXY9BJ2lsBmog4",data:{character_string1:{value:"12317239817239813"},name4:{value:"商品名称"},amount2:{value:"1"},phrase8:{value:"已支付"},date3:{value:"2023-06-12 10:00:00"}},teampleName:"订单支付成功通知"},success:function(e){console.log(e)}})},getSubscribe:function(){var e=this;uni.requestSubscribeMessage({tmplIds:["iOWPa9J4g-uRHrZUG62wxhWqsb0YU265UToPTV7eZGQ"],success:function(n){for(var t in n)"accept"==n[t]&&(uni.showToast({title:"已允许消息推送"}),e.sendMessage())},fail:function(e){console.log("订阅消息 失败 ",e)}})},onChooseAvatar:function(e){console.log(e,"---onChooseAvatar"),this.formData.userInfo.avatar=e.detail.avatarUrl}},mounted:function(){}};n.default=s}).call(this,t("861b")["uniCloud"])},ea90:function(e,n,t){"use strict";t.d(n,"b",(function(){return a})),t.d(n,"c",(function(){return i})),t.d(n,"a",(function(){return o}));var o={uniPay:t("4f42").default,updateFile:t("320d").default},a=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("v-uni-view",{staticClass:"content"},[e._v("测试支付"),t("v-uni-button",{on:{click:function(n){arguments[0]=n=e.$handleEvent(n),e.open()}}},[e._v("唤起收银台支付")]),t("uni-pay",{ref:"uniPay"}),e._v("第一种方式"),t("updateFile"),e._v("第二种方式"),t("v-uni-button",{attrs:{type:"default"},on:{click:function(n){arguments[0]=n=e.$handleEvent(n),e.updateFile.apply(void 0,arguments)}}},[e._v("上传")]),e._v("微信模版消息"),t("v-uni-button",{on:{click:function(n){arguments[0]=n=e.$handleEvent(n),e.getSubscribe()}}},[e._v("微信模版消息")]),e._v("--------------------------------------------------\n\t新版授权登录（获取昵称和头像"),t("v-uni-button",{staticClass:"box-img",attrs:{"open-type":"chooseAvatar"},on:{chooseavatar:function(n){arguments[0]=n=e.$handleEvent(n),e.onChooseAvatar.apply(void 0,arguments)}}},[e._v("新版授权登录（获取昵称和头像）")]),t("v-uni-image",{attrs:{src:e.formData.userInfo.avatar,mode:"aspectFill"}}),t("v-uni-input",{staticClass:"weui-input",attrs:{type:"nickname",placeholder:"请输入昵称"},on:{blur:function(n){arguments[0]=n=e.$handleEvent(n),e.onNickname.apply(void 0,arguments)}},model:{value:e.formData.userInfo.name,callback:function(n){e.$set(e.formData.userInfo,"name",n)},expression:"formData.userInfo.name"}}),e._v("--------------------------------------------------\n\t新版授权登录（获取昵称和头像）"),t("v-uni-view",[t("v-uni-button",{staticClass:"loginBtn",attrs:{"open-type":"getUserInfo"},on:{getuserinfo:function(n){arguments[0]=n=e.$handleEvent(n),e.wxGetUserInfo.apply(void 0,arguments)}}},[e._v("授权登陆")])],1)],1)},i=[]}}]);