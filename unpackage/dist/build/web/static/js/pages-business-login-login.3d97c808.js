(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-business-login-login"],{"0ae4":function(t,n,e){var i=e("3335");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var a=e("967d").default;a("4d1fef42",i,!0,{sourceMap:!1,shadowMode:!1})},"1e91":function(t,n,e){"use strict";e("6a54"),Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,e("64aa");var i={props:{src:{type:String,default:uni.$u.props.image.src},mode:{type:String,default:uni.$u.props.image.mode},width:{type:[String,Number],default:uni.$u.props.image.width},height:{type:[String,Number],default:uni.$u.props.image.height},shape:{type:String,default:uni.$u.props.image.shape},radius:{type:[String,Number],default:uni.$u.props.image.radius},lazyLoad:{type:Boolean,default:uni.$u.props.image.lazyLoad},showMenuByLongpress:{type:Boolean,default:uni.$u.props.image.showMenuByLongpress},loadingIcon:{type:String,default:uni.$u.props.image.loadingIcon},errorIcon:{type:String,default:uni.$u.props.image.errorIcon},showLoading:{type:Boolean,default:uni.$u.props.image.showLoading},showError:{type:Boolean,default:uni.$u.props.image.showError},fade:{type:Boolean,default:uni.$u.props.image.fade},webp:{type:Boolean,default:uni.$u.props.image.webp},duration:{type:[String,Number],default:uni.$u.props.image.duration},bgColor:{type:String,default:uni.$u.props.image.bgColor}}};n.default=i},"2f39":function(t,n,e){"use strict";e.r(n);var i=e("cac1"),a=e.n(i);for(var o in i)["default"].indexOf(o)<0&&function(t){e.d(n,t,(function(){return i[t]}))}(o);n["default"]=a.a},"2fd0":function(t,n,e){"use strict";var i=e("46e4"),a=e.n(i);a.a},3335:function(t,n,e){var i=e("c86c");n=i(!1),n.push([t.i,".login-button[data-v-43b59165]{margin-top:10%;margin-left:5%;margin-right:5%;width:90%}\n\n/* 新增输入框组样式 */.input-group[data-v-43b59165]{width:80%;margin:%?20?% auto}.input-label[data-v-43b59165]{display:block;font-size:%?28?%;color:#666;margin-bottom:%?10?%}\n\n/* 新增验证码容器样式 */.captcha-wrapper[data-v-43b59165]{display:flex;align-items:center;width:100%}\n\n/* 调整输入框宽度 */.input-item[data-v-43b59165]{width:auto!important;flex:1}\n\n/* 新增父容器约束 */.content[data-v-43b59165]{width:100%;display:flex;flex-direction:column;align-items:center}.captcha-wrapper[data-v-43b59165]{display:flex;align-items:center;gap:%?10?% /* 添加间距 */}.logo[data-v-43b59165]{margin-top:30%;margin-left:0;margin-right:5%;margin-bottom:2%}.hint[data-v-43b59165]{font-size:%?20?%;color:#c8c9cc;margin-top:10%;margin-left:10%;margin-right:10%;margin-bottom:2%}",""]),t.exports=n},"39d6":function(t,n,e){"use strict";e.r(n);var i=e("ecd9"),a=e.n(i);for(var o in i)["default"].indexOf(o)<0&&function(t){e.d(n,t,(function(){return i[t]}))}(o);n["default"]=a.a},"3afc":function(t,n,e){"use strict";var i=e("0ae4"),a=e.n(i);a.a},42298:function(t,n,e){"use strict";e("6a54");var i=e("f5bd").default;Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=i(e("1e91")),o={name:"u-image",mixins:[uni.$u.mpMixin,uni.$u.mixin,a.default],data:function(){return{isError:!1,loading:!0,opacity:1,durationTime:this.duration,backgroundStyle:{},show:!1}},watch:{src:{immediate:!0,handler:function(t){t?(this.isError=!1,this.loading=!0):this.isError=!0}}},computed:{wrapStyle:function(){var t={};return t.width=this.$u.addUnit(this.width),t.height=this.$u.addUnit(this.height),t.borderRadius="circle"==this.shape?"10000px":uni.$u.addUnit(this.radius),t.overflow=this.borderRadius>0?"hidden":"visible",uni.$u.deepMerge(t,uni.$u.addStyle(this.customStyle))}},mounted:function(){this.show=!0},methods:{onClick:function(){this.$emit("click")},onErrorHandler:function(t){this.loading=!1,this.isError=!0,this.$emit("error",t)},onLoadHandler:function(t){this.loading=!1,this.isError=!1,this.$emit("load",t),this.removeBgColor()},removeBgColor:function(){this.backgroundStyle={backgroundColor:"transparent"}}}};n.default=o},"46e4":function(t,n,e){var i=e("ce79");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var a=e("967d").default;a("e0b6f5a6",i,!0,{sourceMap:!1,shadowMode:!1})},4838:function(t,n,e){"use strict";e.d(n,"b",(function(){return a})),e.d(n,"c",(function(){return o})),e.d(n,"a",(function(){return i}));var i={uTransition:e("fb63").default,uIcon:e("5313").default},a=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("u-transition",{attrs:{mode:"fade",show:t.show,duration:t.fade?1e3:0}},[e("v-uni-view",{staticClass:"u-image",style:[t.wrapStyle,t.backgroundStyle],on:{click:function(n){arguments[0]=n=t.$handleEvent(n),t.onClick.apply(void 0,arguments)}}},[t.isError?t._e():e("v-uni-image",{staticClass:"u-image__image",style:{borderRadius:"circle"==t.shape?"10000px":t.$u.addUnit(t.radius),width:t.$u.addUnit(t.width),height:t.$u.addUnit(t.height)},attrs:{src:t.src,mode:t.mode,"show-menu-by-longpress":t.showMenuByLongpress,"lazy-load":t.lazyLoad},on:{error:function(n){arguments[0]=n=t.$handleEvent(n),t.onErrorHandler.apply(void 0,arguments)},load:function(n){arguments[0]=n=t.$handleEvent(n),t.onLoadHandler.apply(void 0,arguments)}}}),t.showLoading&&t.loading?e("v-uni-view",{staticClass:"u-image__loading",style:{borderRadius:"circle"==t.shape?"50%":t.$u.addUnit(t.radius),backgroundColor:this.bgColor,width:t.$u.addUnit(t.width),height:t.$u.addUnit(t.height)}},[t._t("loading",[e("u-icon",{attrs:{name:t.loadingIcon,width:t.width,height:t.height}})])],2):t._e(),t.showError&&t.isError&&!t.loading?e("v-uni-view",{staticClass:"u-image__error",style:{borderRadius:"circle"==t.shape?"50%":t.$u.addUnit(t.radius),width:t.$u.addUnit(t.width),height:t.$u.addUnit(t.height)}},[t._t("error",[e("u-icon",{attrs:{name:t.errorIcon,width:t.width,height:t.height}})])],2):t._e()],1)],1)},o=[]},"522a":function(t,n,e){"use strict";e.d(n,"b",(function(){return i})),e.d(n,"c",(function(){return a})),e.d(n,"a",(function(){}));var i=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("uvImage",{attrs:{src:t.src,mode:t.mode,width:t.width,height:t.height,shape:t.shape,radius:t.radius,lazyLoad:t.lazyLoad,showMenuByLongpress:t.showMenuByLongpress,loadingIcon:t.loadingIcon,errorIcon:t.errorIcon,showLoading:t.showLoading,showError:t.showError,fade:t.fade,webp:t.webp,duration:t.duration,bgColor:t.bgColor,customStyle:t.customStyle},on:{click:function(n){arguments[0]=n=t.$handleEvent(n),t.$emit("click")},error:function(n){arguments[0]=n=t.$handleEvent(n),t.$emit("error")},load:function(n){arguments[0]=n=t.$handleEvent(n),t.$emit("load")}},scopedSlots:t._u([{key:"loading",fn:function(){return[t._t("loading")]},proxy:!0},{key:"error",fn:function(){return[t._t("error")]},proxy:!0}],null,!0)})},a=[]},"738c":function(t,n,e){"use strict";e.r(n);var i=e("8324"),a=e("39d6");for(var o in a)["default"].indexOf(o)<0&&function(t){e.d(n,t,(function(){return a[t]}))}(o);e("3afc");var r=e("828b"),u=Object(r["a"])(a["default"],i["b"],i["c"],!1,null,"43b59165",null,!1,i["a"],void 0);n["default"]=u.exports},8324:function(t,n,e){"use strict";e.d(n,"b",(function(){return a})),e.d(n,"c",(function(){return o})),e.d(n,"a",(function(){return i}));var i={"u-Image":e("f774").default,"u-Input":e("baea").default,uButton:e("38c1").default,uOverlay:e("b0ea").default},a=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("v-uni-view",{staticClass:"loginContent"},[e("v-uni-view",{staticClass:"wrap"},[e("v-uni-view",{staticClass:"top"}),e("v-uni-view",{staticClass:"content"},[e("v-uni-view",{staticClass:"logo"},[e("u--image",{attrs:{showLoading:!0,src:t.logoSrc,width:"100px",height:"100px"}})],1),e("v-uni-view",{staticClass:"input-group"},[e("v-uni-text",{staticClass:"input-label"},[t._v("手机号")]),e("u--input",{staticClass:"input-item",attrs:{placeholder:"请输入手机号"},model:{value:t.phone,callback:function(n){t.phone=n},expression:"phone"}})],1),e("v-uni-view",{staticClass:"input-group"},[e("v-uni-text",{staticClass:"input-label"},[t._v("验证码")]),e("v-uni-view",{staticClass:"captcha-wrapper"},[e("u--input",{staticClass:"input-item",attrs:{placeholder:"请输入验证码",customStyle:"width: 400rpx; margin-right: 20rpx;"},model:{value:t.captcha,callback:function(n){t.captcha=n},expression:"captcha"}}),e("u-button",{attrs:{customStyle:{width:"220rpx",height:"60rpx",lineHeight:"60rpx",fontSize:"28rpx"},text:t.countdown>0?t.countdown+"秒后获取":"获取验证码",disabled:t.countdown>0,size:"mini",color:"#71d5a1"},on:{click:function(n){arguments[0]=n=t.$handleEvent(n),t.sendCaptcha.apply(void 0,arguments)}}})],1)],1),e("v-uni-view",{staticClass:"login-button"},[e("u-button",{attrs:{color:"#71d5a1",shape:"circle",text:"手机号登录"},on:{click:function(n){arguments[0]=n=t.$handleEvent(n),t.submitLogin.apply(void 0,arguments)}}})],1)],1),e("v-uni-view",{staticClass:"buttom"},[e("v-uni-view",{staticClass:"hint"},[t._v("登录代表您同意"),e("br"),e("v-uni-text",{staticClass:"link",staticStyle:{color:"#9aceb3"},on:{click:function(n){arguments[0]=n=t.$handleEvent(n),t.goto("/pages/business/serviceAgreement/serviceAgreement")}}},[t._v("服务协议、")]),e("v-uni-text",{staticClass:"link",staticStyle:{color:"#9aceb3"},on:{click:function(n){arguments[0]=n=t.$handleEvent(n),t.goto("/pages/business/privacyPolicy/privacyPolicy")}}},[t._v("隐私政策，")]),t._v("并授权使用您的账号信息（如昵称、头像、地址）以便为您提供服务")],1)],1)],1),e("u-overlay",{attrs:{show:t.maskShow}})],1)},o=[]},9700:function(t,n,e){"use strict";e.r(n);var i=e("4838"),a=e("dea8");for(var o in a)["default"].indexOf(o)<0&&function(t){e.d(n,t,(function(){return a[t]}))}(o);e("2fd0");var r=e("828b"),u=Object(r["a"])(a["default"],i["b"],i["c"],!1,null,"1428a719",null,!1,i["a"],void 0);n["default"]=u.exports},cac1:function(t,n,e){"use strict";e("6a54");var i=e("f5bd").default;Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=i(e("9700")),o=i(e("1e91")),r={name:"u--image",mixins:[uni.$u.mpMixin,o.default,uni.$u.mixin],components:{uvImage:a.default}};n.default=r},ce79:function(t,n,e){var i=e("c86c");n=i(!1),n.push([t.i,'@charset "UTF-8";\n/**\n * 这里是uni-app内置的常用样式变量\n *\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\n *\n */\n/**\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\n *\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\n */\n/* uni.scss */\n/* uni.scss */\n/* 颜色变量 */\n/* 行为相关颜色 */\n/* 文字基本颜色 */\n/* 背景颜色 */\n/* 边框颜色 */\n/* 尺寸变量 */\n/* 文字尺寸 */\n/* 图片尺寸 */\n/* Border Radius */\n/* 水平间距 */\n/* 垂直间距 */\n/* 透明度 */\n/* 文章场景相关 */uni-view[data-v-1428a719], uni-scroll-view[data-v-1428a719], uni-swiper-item[data-v-1428a719]{display:flex;flex-direction:column;flex-shrink:0;flex-grow:0;flex-basis:auto;align-items:stretch;align-content:flex-start}.u-image[data-v-1428a719]{position:relative;transition:opacity .5s ease-in-out}.u-image__image[data-v-1428a719]{width:100%;height:100%}.u-image__loading[data-v-1428a719], .u-image__error[data-v-1428a719]{position:absolute;top:0;left:0;width:100%;height:100%;\ndisplay:flex;\nflex-direction:row;align-items:center;justify-content:center;background-color:#f3f4f6;color:#909193;font-size:%?46?%}',""]),t.exports=n},dea8:function(t,n,e){"use strict";e.r(n);var i=e("42298"),a=e.n(i);for(var o in i)["default"].indexOf(o)<0&&function(t){e.d(n,t,(function(){return i[t]}))}(o);n["default"]=a.a},ecd9:function(t,n,e){"use strict";(function(t){e("6a54");var i=e("f5bd").default;Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,e("d4b5");var a=i(e("2634")),o=i(e("2fdc")),r={name:"login",data:function(){return{logoSrc:"",phone:"13344556677",captcha:"112233",maskShow:!1}},onLoad:function(){this.getBasicInforMation()},methods:{submitLogin:function(){var t=this;return(0,o.default)((0,a.default)().mark((function n(){var e;return(0,a.default)().wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(t.phone&&t.captcha){n.next=3;break}return uni.showToast({title:"请填写完整信息",icon:"none"}),n.abrupt("return");case 3:return n.prev=3,n.next=6,uni.request({url:"https://homechat-effassits-popgjiyphu.cn-hangzhou.fcapp.run/open/login",method:"POST",header:{"Content-Type":"application/json"},data:{phone:t.phone,captcha:t.captcha}});case 6:e=n.sent,console.log("res[1].data:"+JSON.stringify(e[1].data)),0===e[1].data.code?(uni.setStorageSync("token",e[1].data.data),uni.setStorageSync("phoneNumber",t.phone),uni.switchTab({url:"/pages/home/home"}),uni.showToast({title:"登录成功",icon:"success"})):uni.showToast({title:"登录失败: "+(e.data.message||"未知业务错误"),icon:"none"}),n.next=15;break;case 11:n.prev=11,n.t0=n["catch"](3),uni.showToast({title:"网络异常: ".concat(n.t0.errMsg||"未知错误"),icon:"none"}),console.error("登录请求错误:",n.t0);case 15:case"end":return n.stop()}}),n,null,[[3,11]])})))()},sendCaptcha:function(){var t=this;return(0,o.default)((0,a.default)().mark((function n(){var e;return(0,a.default)().wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(t.phone){n.next=3;break}return uni.showToast({title:"请先输入手机号",icon:"none"}),n.abrupt("return");case 3:return n.prev=3,n.next=6,uni.request({url:"YOUR_CAPTCHA_API_ENDPOINT",method:"POST",data:{phone:t.phone}});case 6:e=n.sent,200===e.statusCode&&uni.showToast({title:"验证码已发送"}),n.next=13;break;case 10:n.prev=10,n.t0=n["catch"](3),uni.showToast({title:"验证码发送失败",icon:"none"});case 13:case"end":return n.stop()}}),n,null,[[3,10]])})))()},goto:function(t){uni.navigateTo({animationType:"slide-in-bottom",animationDuration:200,url:t})},getBasicInforMation:function(){var n=this;t.callFunction({name:"getBasicInformation",data:{isEnable:!0},success:function(t){n.logoSrc=t.result.data[0].logo.url}})}}};n.default=r}).call(this,e("861b")["uniCloud"])},f774:function(t,n,e){"use strict";e.r(n);var i=e("522a"),a=e("2f39");for(var o in a)["default"].indexOf(o)<0&&function(t){e.d(n,t,(function(){return a[t]}))}(o);var r=e("828b"),u=Object(r["a"])(a["default"],i["b"],i["c"],!1,null,null,null,!1,i["a"],void 0);n["default"]=u.exports}}]);