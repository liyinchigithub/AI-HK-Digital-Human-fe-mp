(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-list-list"],{"079d":function(t,e,n){"use strict";n.r(e);var r=n("44d1"),a=n.n(r);for(var i in r)["default"].indexOf(i)<0&&function(t){n.d(e,t,(function(){return r[t]}))}(i);e["default"]=a.a},"0f81":function(t,e,n){var r=n("b6c6");r.__esModule&&(r=r.default),"string"===typeof r&&(r=[[t.i,r,""]]),r.locals&&(t.exports=r.locals);var a=n("4f06").default;a("7d03b044",r,!0,{sourceMap:!1,shadowMode:!1})},1519:function(t,e,n){"use strict";n("7a82");var r=n("4ea4").default;Object.defineProperty(e,"__esModule",{value:!0}),e.formatDate=s,e.friendlyDate=function(t,e){var n=e.locale,r=void 0===n?"zh":n,a=e.threshold,i=void 0===a?[6e4,36e5]:a,o=e.format,c=void 0===o?"yyyy/MM/dd hh:mm:ss":o;if("-"===t)return t;if(!t&&0!==t)return"";var f,l,d={zh:{year:"年",month:"月",day:"天",hour:"小时",minute:"分钟",second:"秒",ago:"前",later:"后",justNow:"刚刚",soon:"马上",template:"{num}{unit}{suffix}"},en:{year:"year",month:"month",day:"day",hour:"hour",minute:"minute",second:"second",ago:"ago",later:"later",justNow:"just now",soon:"soon",template:"{num} {unit} {suffix}"}},h=d[r]||d.zh,p=u(t),v=p.getTime()-Date.now(),y=Math.abs(v);if(y<i[0])return v<0?h.justNow:h.soon;if(y>=i[1])return s(p,c);var m=h.later;v<0&&(m=h.ago,v=-v);var b=Math.floor(v/1e3),g=Math.floor(b/60),w=Math.floor(g/60),x=Math.floor(w/24),_=Math.floor(x/30),M=Math.floor(_/12);switch(!0){case M>0:f=M,l=h.year;break;case _>0:f=_,l=h.month;break;case x>0:f=x,l=h.day;break;case w>0:f=w,l=h.hour;break;case g>0:f=g,l=h.minute;break;default:f=b,l=h.second;break}"en"===r&&(1===f?f="a":l+="s");return h.template.replace(/{\s*num\s*}/g,f+"").replace(/{\s*unit\s*}/g,l).replace(/{\s*suffix\s*}/g,m)};var a=r(n("53ca"));function i(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;t+="";while(t.length<e)t="0"+t;return t.slice(-e)}n("fb6a"),n("c975"),n("ac1f"),n("5319");var o={yyyy:function(t){return i(t.year,4)},yy:function(t){return i(t.year)},MM:function(t){return i(t.month)},M:function(t){return t.month},dd:function(t){return i(t.day)},d:function(t){return t.day},hh:function(t){return i(t.hour)},h:function(t){return t.hour},mm:function(t){return i(t.minute)},m:function(t){return t.minute},ss:function(t){return i(t.second)},s:function(t){return t.second},SSS:function(t){return i(t.millisecond,3)},S:function(t){return t.millisecond}};function u(t){if(t instanceof Date)return t;switch((0,a.default)(t)){case"string":return t.indexOf("T")>-1?new Date(t):new Date(t.replace(/-/g,"/"));default:return new Date(t)}}function s(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"yyyy/MM/dd hh:mm:ss";if(!t&&0!==t)return"";t=u(t);var n={year:t.getFullYear(),month:t.getMonth()+1,day:t.getDate(),hour:t.getHours(),minute:t.getMinutes(),second:t.getSeconds(),millisecond:t.getMilliseconds()},r=/yyyy|yy|MM|M|dd|d|hh|h|mm|m|ss|s|SSS|SS|S/,a=!0,i=e;while(a)a=!1,i=i.replace(r,(function(t){return a=!0,o[t](n)}));return i}},"19c2":function(t,e,n){"use strict";n("7a82");var r=n("4ea4").default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,n("d3b7");var a=r(n("c7eb")),i=r(n("5530")),o=r(n("1da1")),u=r(n("d4ec")),s=r(n("bee2")),c=function(){function t(e){(0,u.default)(this,t),this.lock=!1}return(0,s.default)(t,[{key:"getLocation",value:function(){var t=(0,o.default)((0,a.default)().mark((function t(){var e,n=this,r=arguments;return(0,a.default)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e=r.length>0&&void 0!==r[0]?r[0]:{type:"wgs84"},t.abrupt("return",new Promise(function(){var t=(0,o.default)((0,a.default)().mark((function t(r){return(0,a.default)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!n.lock){t.next=3;break}return r(!1),t.abrupt("return",!1);case 3:n.lock=!0,uni.getLocation((0,i.default)((0,i.default)({},e),{},{success:function(t){n.lock=!1,r(t)},fail:function(){var t=(0,o.default)((0,a.default)().mark((function t(e){return(0,a.default)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:uni.showToast({title:"定位获取失败",icon:"none"}),console.error(e),r(!1);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}));case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()));case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()}]),t}(),f=c;e.default=f},2329:function(t,e,n){var r=n("24fb");e=r(!1),e.push([t.i,"\nuni-view[data-v-56cf4364]{display:flex;box-sizing:border-box;flex-direction:column}\n.pages[data-v-56cf4364]{background-color:#fff}.avatar[data-v-56cf4364]{width:%?200?%;height:%?200?%;margin-right:%?10?%}.main[data-v-56cf4364]{justify-content:space-between;flex:1}.title[data-v-56cf4364]{font-size:16px}.info[data-v-56cf4364]{flex-direction:row;justify-content:space-between}.author[data-v-56cf4364],\n.last_modify_date[data-v-56cf4364]{font-size:14px;color:#999}.uni-search-box[data-v-56cf4364]{background-color:#fff;position:-webkit-sticky;position:sticky;height:50px;top:0;left:0;\nz-index:9;\n}.cover-search-bar[data-v-56cf4364]{height:50px;position:relative;top:-50px;margin-bottom:-50px;\nz-index:999\n}",""]),t.exports=e},"319e":function(t,e,n){"use strict";n.r(e);var r=n("b049"),a=n.n(r);for(var i in r)["default"].indexOf(i)<0&&function(t){n.d(e,t,(function(){return r[t]}))}(i);e["default"]=a.a},"32ec":function(t,e,n){"use strict";n("7a82"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,n("a9e3"),n("e25e");var r=n("1519"),a={name:"uniDateformat",props:{date:{type:[Object,String,Number],default:function(){return"-"}},locale:{type:String,default:"zh"},threshold:{type:Array,default:function(){return[0,0]}},format:{type:String,default:"yyyy/MM/dd hh:mm:ss"},refreshRate:{type:[Number,String],default:0}},data:function(){return{refreshMark:0}},computed:{dateShow:function(){return this.refreshMark,(0,r.friendlyDate)(this.date,{locale:this.locale,threshold:this.threshold,format:this.format})}},watch:{refreshRate:{handler:function(){this.setAutoRefresh()},immediate:!0}},methods:{refresh:function(){this.refreshMark++},setAutoRefresh:function(){var t=this;clearInterval(this.refreshInterval),this.refreshRate&&(this.refreshInterval=setInterval((function(){t.refresh()}),parseInt(this.refreshRate)))}}};e.default=a},"33f1":function(t,e,n){"use strict";n.r(e);var r=n("f2fc"),a=n("079d");for(var i in a)["default"].indexOf(i)<0&&function(t){n.d(e,t,(function(){return a[t]}))}(i);n("563f");var o=n("f0c5"),u=Object(o["a"])(a["default"],r["b"],r["c"],!1,null,"56cf4364",null,!1,r["a"],void 0);e["default"]=u.exports},"44d1":function(t,e,n){"use strict";(function(t){n("7a82");var r=n("4ea4").default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a,i=r(n("c7eb")),o=r(n("1da1")),u=r(n("9507")),s=r(n("19c2")),c=(new s.default,t.database()),f={components:{statusBar:u.default},computed:{inputPlaceholder:function(t){return"en"==uni.getStorageSync("CURRENT_LANG")?"Please enter the search content":"请输入搜索内容"},colList:function(){return[c.collection("opendb-news-articles").where(this.where).field("avatar,title,last_modify_date,user_id").getTemp(),c.collection("uni-id-users").field("_id,username").getTemp()]}},data:function(){return{where:'"article_status" == 1',keyword:"",showRefresh:!1,listHight:0}},watch:{keyword:function(t,e){var n='"article_status" == 1 ';this.where=t?n+"&& /".concat(t,"/.test(title)"):n}},onReady:function(){var t=this;return(0,o.default)((0,i.default)().mark((function e(){return(0,i.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.listHight="auto",a=t.$refs.udb;case 2:case"end":return e.stop()}}),e)})))()},onShow:function(){var t=this;return(0,o.default)((0,i.default)().mark((function e(){return(0,i.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.keyword=getApp().globalData.searchText,getApp().globalData.searchText="";case 2:case"end":return e.stop()}}),e)})))()},methods:{searchClick:function(t){uni.hideKeyboard(),uni.navigateTo({url:"/pages/list/search/search",animationType:"fade-in"})},retry:function(){this.refresh()},refresh:function(){a.loadData({clear:!0},(function(){uni.stopPullDownRefresh(),console.log("end")})),console.log("refresh")},loadMore:function(){a.loadMore()},onqueryerror:function(t){console.error(t)},onpullingdown:function(t){console.log(t),this.showRefresh=!0,t.pullingDistance>100&&this.refresh()}},onPullDownRefresh:function(){this.refresh()},onReachBottom:function(){this.loadMore()}};e.default=f}).call(this,n("a9ff")["default"])},"4af3":function(t,e,n){var r=n("2329");r.__esModule&&(r=r.default),"string"===typeof r&&(r=[[t.i,r,""]]),r.locals&&(t.exports=r.locals);var a=n("4f06").default;a("6525d55e",r,!0,{sourceMap:!1,shadowMode:!1})},"563f":function(t,e,n){"use strict";var r=n("4af3"),a=n.n(r);a.a},"90e4":function(t,e,n){"use strict";n.d(e,"b",(function(){return r})),n.d(e,"c",(function(){return a})),n.d(e,"a",(function(){}));var r=function(){var t=this.$createElement,e=this._self._c||t;return e("v-uni-view",{staticClass:"uni-status-bar",style:{height:this.statusBarHeight}},[this._t("default")],2)},a=[]},9507:function(t,e,n){"use strict";n.r(e);var r=n("90e4"),a=n("319e");for(var i in a)["default"].indexOf(i)<0&&function(t){n.d(e,t,(function(){return a[t]}))}(i);n("d28c");var o=n("f0c5"),u=Object(o["a"])(a["default"],r["b"],r["c"],!1,null,"90ccf07e",null,!1,r["a"],void 0);e["default"]=u.exports},"982c":function(t,e,n){"use strict";n.r(e);var r=n("32ec"),a=n.n(r);for(var i in r)["default"].indexOf(i)<0&&function(t){n.d(e,t,(function(){return r[t]}))}(i);e["default"]=a.a},a406:function(t,e,n){"use strict";n.d(e,"b",(function(){return r})),n.d(e,"c",(function(){return a})),n.d(e,"a",(function(){}));var r=function(){var t=this.$createElement,e=this._self._c||t;return e("v-uni-text",[this._v(this._s(this.dateShow))])},a=[]},b049:function(t,e,n){"use strict";n("7a82"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r={name:"UniStatusBar",data:function(){return{statusBarHeight:20}},mounted:function(){this.statusBarHeight=uni.getSystemInfoSync().statusBarHeight+"px"}};e.default=r},b6c6:function(t,e,n){var r=n("24fb");e=r(!1),e.push([t.i,'@charset "UTF-8";\n/**\n * 这里是uni-app内置的常用样式变量\n *\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\n *\n */\n/**\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\n *\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\n */\n/* uni.scss */\n/* uni.scss */\n/* 颜色变量 */\n/* 行为相关颜色 */\n/* 文字基本颜色 */\n/* 背景颜色 */\n/* 边框颜色 */\n/* 尺寸变量 */\n/* 文字尺寸 */\n/* 图片尺寸 */\n/* Border Radius */\n/* 水平间距 */\n/* 垂直间距 */\n/* 透明度 */\n/* 文章场景相关 */.uni-status-bar[data-v-90ccf07e]{height:20px}',""]),t.exports=e},b8f5:function(t,e,n){"use strict";n.r(e);var r=n("a406"),a=n("982c");for(var i in a)["default"].indexOf(i)<0&&function(t){n.d(e,t,(function(){return a[t]}))}(i);var o=n("f0c5"),u=Object(o["a"])(a["default"],r["b"],r["c"],!1,null,"690ab064",null,!1,r["a"],void 0);e["default"]=u.exports},d28c:function(t,e,n){"use strict";var r=n("0f81"),a=n.n(r);a.a},f2fc:function(t,e,n){"use strict";n.d(e,"b",(function(){return a})),n.d(e,"c",(function(){return i})),n.d(e,"a",(function(){return r}));var r={uniSearchBar:n("de64").default,unicloudDb:n("960d").default,uniList:n("77b0").default,uniListItem:n("79ba").default,uniDateformat:n("b8f5").default},a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-uni-view",{staticClass:"pages"},[n("v-uni-view",{staticClass:"uni-search-box"},[n("uni-search-bar",{ref:"searchBar",attrs:{radius:"100",cancelButton:"none",disabled:!0,placeholder:t.inputPlaceholder},model:{value:t.keyword,callback:function(e){t.keyword=e},expression:"keyword"}}),n("v-uni-view",{staticClass:"cover-search-bar",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.searchClick.apply(void 0,arguments)}}})],1),n("unicloud-db",{ref:"udb",attrs:{collection:t.colList,"page-size":10},on:{error:function(e){arguments[0]=e=t.$handleEvent(e),t.onqueryerror.apply(void 0,arguments)}},scopedSlots:t._u([{key:"default",fn:function(e){var r=e.data,a=e.pagination,i=e.hasMore,o=e.loading,u=e.error;e.options;return[n("uni-list",{staticClass:"uni-list",style:{height:t.listHight},attrs:{border:!1}},[t._l(r,(function(e,r){return n("uni-list-item",{key:r,attrs:{to:"/pages/list/detail?id="+e._id+"&title="+e.title},scopedSlots:t._u([{key:"header",fn:function(){return[n("v-uni-image",{staticClass:"avatar",attrs:{src:e.avatar,mode:"aspectFill"}})]},proxy:!0},{key:"body",fn:function(){return[n("v-uni-view",{staticClass:"main"},[n("v-uni-text",{staticClass:"title"},[t._v(t._s(e.title))]),n("v-uni-view",{staticClass:"info"},[n("v-uni-text",{staticClass:"author"},[t._v(t._s(e.user_id[0]?e.user_id[0].username:""))]),n("uni-dateformat",{staticClass:"last_modify_date",attrs:{date:e.last_modify_date,format:"yyyy-MM-dd",threshold:[6e4,2592e6]}})],1)],1)]},proxy:!0}],null,!0)})})),n("uni-load-state",{attrs:{state:{data:r,pagination:a,hasMore:i,loading:o,error:u}},on:{networkResume:function(e){arguments[0]=e=t.$handleEvent(e),t.refresh.apply(void 0,arguments)},loadMore:function(e){arguments[0]=e=t.$handleEvent(e),t.loadMore.apply(void 0,arguments)}}})],2)]}}])})],1)},i=[]}}]);