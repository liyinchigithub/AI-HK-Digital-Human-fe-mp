{"version":3,"sources":["uni-app:///main.js","webpack:////Users/liyinchi/workspace/前端/Dcolud/AI-HK-Digital-Human-fe-mp/pages/order/order.vue?aecb","webpack:////Users/liyinchi/workspace/前端/Dcolud/AI-HK-Digital-Human-fe-mp/pages/order/order.vue?7516","webpack:////Users/liyinchi/workspace/前端/Dcolud/AI-HK-Digital-Human-fe-mp/pages/order/order.vue?b19e","webpack:////Users/liyinchi/workspace/前端/Dcolud/AI-HK-Digital-Human-fe-mp/pages/order/order.vue?5805","uni-app:///pages/order/order.vue","webpack:////Users/liyinchi/workspace/前端/Dcolud/AI-HK-Digital-Human-fe-mp/pages/order/order.vue?461c","webpack:////Users/liyinchi/workspace/前端/Dcolud/AI-HK-Digital-Human-fe-mp/pages/order/order.vue?bf68"],"names":["wx","__webpack_require_UNI_MP_PLUGIN__","__webpack_require__","createPage","Page","name","data","overlayShow","list","curNow","isAllStatus","isEmpty","newsList","_id","title","created","orderGoodsName","orderGoodsCount","actualAmountPaid","dateTime","isEnable","coverImage","imageList","collectionName","loadingText","pageNum","pageSize","total","maskShow","methods","sectionChange","console","goto","uni","url","getListData","that","uniCloud","success","getYMDHMS","getMoreNews","then","catch","onPullDownRefresh","onReachBottom","onLoad"],"mappings":";;;;;;;;;;;;;AAAA;AAE2D;AAAuD;AAA4E;AAC9L;AACA;AAHA;AACAA,EAAE,CAACC,iCAAiC,GAAGC,mBAAmB;AAAuD;AAGjHC,UAAU,CAACC,cAAI,CAAC,C;;;;;;;;;;;;;ACLhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAkH;AAClH;AACyD;AACL;AACc;;;AAGlE;AACmN;AACnN,gBAAgB,iNAAU;AAC1B,EAAE,2EAAM;AACR,EAAE,gFAAM;AACR,EAAE,yFAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,oFAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA,aAAa,mTAEN;AACP,KAAK;AACL;AACA,aAAa,iVAEN;AACP,KAAK;AACL;AACA,aAAa,iVAEN;AACP,KAAK;AACL;AACA,aAAa,qUAEN;AACP,KAAK;AACL;AACA,aAAa,uSAEN;AACP,KAAK;AACL;AACA,aAAa,uPAEN;AACP,KAAK;AACL;AACA,aAAa,2RAEN;AACP,KAAK;AACL;AACA,aAAa,2RAEN;AACP,KAAK;AACL;AACA,aAAa,iSAEN;AACP,KAAK;AACL;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA,MAAM;AACN;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACzFA;AAAA;AAAA;AAAA;AAAk1B,CAAgB,myBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;eCyEt2B;EACAC;EACAC;IACA;MACA;MACAC;MACA;MACAC;MAAA;MACAC;MAAA;MACAC;MAAA;MACAC;MAAA;MACA;MACAC;QACAC;QACAC;QACAC;QACAC;QACAC;QACAC;QACAC;QACAC;QACAC;UACA;QACA;QACAC;UACA;QACA;MACA;MACAC;MACAC;MAAA;MACAC;MAAA;MACAC;MAAA;MACAC;MACA;MACAC;IAEA;EACA;EACAC;IACA;IACAC;MACA;MACAC;MACA;MACA;QACA;MACA;QACA;MACA;;MAEA;MACA;IACA;IACA;IACAC;MACAC;QACAC;MACA;IACA;IACA;IACAC;MAAA;MACA;MACA;MACA;MACA;MACA;MACAF;MACA;MACAF;MACAA;MACA;MACA;QACAK;MACA;QACA;QACAA;MACA;MACA;MACAC;QACAhC;QACAC;UACA;UACA;UAAA;UACA;UAAA;UACA;UAAA;UACA;UAAA;UACA;UAAA;UACA;UAAA;UACA;UACA;QACA;;QACAgC;UACAP;UACA;UACAK;UACAL;UACA;UACA;YACAK;UACA;YACAA;UACA;UACA;UACAA;UACA;UACAH;UACA;UACAA;UACA;UACAG;UACAL;UACA;UACAK;QACA;MACA;IAEA;IACA;IACAG;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MAEA;MACA;IACA;IACA;IACAC;MACA;MACA;MACA;QACAJ;QACA;MACA;MACAA;MACA;MACAH;MACA;MACAG;MACA;MACAC;QACAhC;QACAC;UACA;UACA;UAAA;UACA;UAAA;UACA;UAAA;UACA;UAAA;UACA;UAAA;UACA;UACA;UACA;QAAA,eACA;MAEA,GACAmC;QACAL;QACAL;QACA;QACAK;QACAA;QACA;QACA;UACA;UACA;YACAA;UACA;YACAA;UACA;UACA;UACAH;UACAG;UACA;QACA;QACA;QACAA;QACA;QACAH;MACA;MAAA,CACAS;QACAX;MACA;IACA;EACA;EACAhB,6BAEA;EACA4B;IACA;IACA;EACA;EACA;EACAC;IACA;EACA;EACAC;IACA;IACAd;IACA;IACA;IACA;MACA;MACA;IACA;MACA;MACA;IACA;IACA;IACAE;IACA;IACA;IACA;IACAF;EACA,EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;AACA;AAAA,2B;;;;;;;;;;;;;ACpTA;AAAA;AAAA;AAAA;AAA6jD,CAAgB,k6CAAG,EAAC,C;;;;;;;;;;;ACAjlD;AACA,OAAO,KAAU,EAAE,kBAKd","file":"pages/order/order.js","sourcesContent":["import 'uni-pages';\n// @ts-ignore\nwx.__webpack_require_UNI_MP_PLUGIN__ = __webpack_require__;import '@dcloudio/uni-stat/dist/uni-cloud-stat.es.js';;import '@dcloudio/vue-cli-plugin-uni/packages/uni-push/dist/uni-push.es.js';import '@dcloudio/vue-cli-plugin-uni/packages/uni-cloud/dist/index.js';\nimport Vue from 'vue'\nimport Page from './pages/order/order.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./order.vue?vue&type=template&id=127632e4&\"\nvar renderjs\nimport script from \"./order.vue?vue&type=script&lang=js&\"\nexport * from \"./order.vue?vue&type=script&lang=js&\"\nimport style0 from \"./order.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/order/order.vue\"\nexport default component.exports","export * from \"-!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--17-0!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./order.vue?vue&type=template&id=127632e4&\"","var components\ntry {\n  components = {\n    uOverlay: function () {\n      return import(\n        /* webpackChunkName: \"uni_modules/uview-ui/components/u-overlay/u-overlay\" */ \"@/uni_modules/uview-ui/components/u-overlay/u-overlay.vue\"\n      )\n    },\n    uLoadingIcon: function () {\n      return import(\n        /* webpackChunkName: \"uni_modules/uview-ui/components/u-loading-icon/u-loading-icon\" */ \"@/uni_modules/uview-ui/components/u-loading-icon/u-loading-icon.vue\"\n      )\n    },\n    uLoadingPage: function () {\n      return import(\n        /* webpackChunkName: \"uni_modules/uview-ui/components/u-loading-page/u-loading-page\" */ \"@/uni_modules/uview-ui/components/u-loading-page/u-loading-page.vue\"\n      )\n    },\n    uSubsection: function () {\n      return import(\n        /* webpackChunkName: \"uni_modules/uview-ui/components/u-subsection/u-subsection\" */ \"@/uni_modules/uview-ui/components/u-subsection/u-subsection.vue\"\n      )\n    },\n    uEmpty: function () {\n      return import(\n        /* webpackChunkName: \"uni_modules/uview-ui/components/u-empty/u-empty\" */ \"@/uni_modules/uview-ui/components/u-empty/u-empty.vue\"\n      )\n    },\n    uniCard: function () {\n      return import(\n        /* webpackChunkName: \"uni_modules/uni-card/components/uni-card/uni-card\" */ \"@/uni_modules/uni-card/components/uni-card/uni-card.vue\"\n      )\n    },\n    uRow: function () {\n      return import(\n        /* webpackChunkName: \"uni_modules/uview-ui/components/u-row/u-row\" */ \"@/uni_modules/uview-ui/components/u-row/u-row.vue\"\n      )\n    },\n    uCol: function () {\n      return import(\n        /* webpackChunkName: \"uni_modules/uview-ui/components/u-col/u-col\" */ \"@/uni_modules/uview-ui/components/u-col/u-col.vue\"\n      )\n    },\n    uLine: function () {\n      return import(\n        /* webpackChunkName: \"uni_modules/uview-ui/components/u-line/u-line\" */ \"@/uni_modules/uview-ui/components/u-line/u-line.vue\"\n      )\n    },\n  }\n} catch (e) {\n  if (\n    e.message.indexOf(\"Cannot find module\") !== -1 &&\n    e.message.indexOf(\".vue\") !== -1\n  ) {\n    console.error(e.message)\n    console.error(\"1. 排查组件名称拼写是否正确\")\n    console.error(\n      \"2. 排查组件是否符合 easycom 规范，文档：https://uniapp.dcloud.net.cn/collocation/pages?id=easycom\"\n    )\n    console.error(\n      \"3. 若组件不符合 easycom 规范，需手动引入，并在 components 中注册该组件\"\n    )\n  } else {\n    throw e\n  }\n}\nvar render = function () {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  var l0 = _vm.__map(_vm.newsList, function (item, index) {\n    var $orig = _vm.__get_orig(item)\n    var m0 = _vm.getYMDHMS(item.created)\n    return {\n      $orig: $orig,\n      m0: m0,\n    }\n  })\n  _vm.$mp.data = Object.assign(\n    {},\n    {\n      $root: {\n        l0: l0,\n      },\n    }\n  )\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--13-1!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./order.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--13-1!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./order.vue?vue&type=script&lang=js&\"","<!-- 订单 -->\r\n<template>\r\n\t<view class=\"\">\r\n\t\t<!-- 遮罩 -->\r\n\t\t<u-overlay :show=\"overlayShow\" :opacity=\"0.7\">\r\n\t\t\t<view class=\"warp\">\r\n\t\t\t\t<u-loading-icon textColor=\"#71d5a1\" color=\"#71d5a1\" inactive-color=\"#71d5a1\" size=\"70\" mode=\"semicircle\"\r\n\t\t\t\t\ttextSize=\"40\" text=\"加载中\"></u-loading-icon>\r\n\t\t\t</view>\r\n\t\t</u-overlay>\r\n\t\t<!-- 加载页 -->\r\n\t\t<u-loading-page :loading=\"maskShow\" bg-color=\"#ffffff\" color=\"#ffffff\" font-size=\"40\">\r\n\t\t</u-loading-page>\r\n\t\t<!-- 分段 tab -->\r\n\t\t<u-subsection :list=\"list\" :current=\"curNow\" @change=\"sectionChange\" fontSize=\"30rpx\" inactiveColor=\"#71d5a1\"\r\n\t\t\tactiveColor=\"#71d5a1\" mode=\"button\"></u-subsection>\r\n\t\t<!-- 空数据 -->\r\n\t\t<view class=\"\">\r\n\t\t\t<u-empty marginTop=\"100rpx\" :show=\"isEmpty\" mode=\"order\" icon=\"http://cdn.uviewui.com/uview/empty/order.png\"\r\n\t\t\t\t:width=\"screenWidth / 2\" :height=\"screenHeight / 2\" textSize=\"40\">\r\n\t\t\t</u-empty>\r\n\t\t</view>\r\n\t\t<!-- 列表 -->\r\n\t\t<view class=\"\" v-show=\"!isEmpty\">\r\n\t\t\t<uni-card v-for=\"(item, index) in newsList\" :key=\"index\"\r\n\t\t\t\t@click=\"goto(`/pages/business/orderDetail/orderDetail?orderID=${item._id}`)\">\r\n\t\t\t\t<!-- <text class=\"time\">{{getYMDHMS(item.noticeSendTime)}}</text> -->\r\n\t\t\t\t<u-row justify=\"flex-start\">\r\n\t\t\t\t\t<u-col span=\"10\" class=\"introduce\">\r\n\t\t\t\t\t\t<text class=\"text\">\r\n\t\t\t\t\t\t\t{{ getYMDHMS(item.created) }}\r\n\t\t\t\t\t\t</text>\r\n\t\t\t\t\t</u-col>\r\n\t\t\t\t</u-row>\r\n\t\t\t\t<u-line></u-line>\r\n\t\t\t\t<u-row>\r\n\t\t\t\t\t<u-col span=\"12\" class=\"orderGoodsName\">\r\n\t\t\t\t\t\t<text class=\"text\">\r\n\t\t\t\t\t\t\t名称：{{ item.orderGoodsName }}\r\n\t\t\t\t\t\t</text>\r\n\t\t\t\t\t</u-col>\r\n\t\t\t\t</u-row>\r\n\r\n\t\t\t\t<u-row>\r\n\t\t\t\t\t<u-col class=\"orderGoodsCount\">\r\n\t\t\t\t\t\t<text class=\"text\">\r\n\t\t\t\t\t\t\t数量：{{ item.orderGoodsCount }}\r\n\t\t\t\t\t\t</text>\r\n\t\t\t\t\t</u-col>\r\n\t\t\t\t</u-row>\r\n\t\t\t\t<u-row>\r\n\t\t\t\t\t<u-col span=\"10\" class=\"orderGoodsCount\">\r\n\t\t\t\t\t\t<text class=\"text\">\r\n\t\t\t\t\t\t\t实付：{{ item.orderCurrentAmount }}\r\n\t\t\t\t\t\t</text>\r\n\t\t\t\t\t</u-col>\r\n\t\t\t\t</u-row>\r\n\t\t\t\t<u-line dashed></u-line>\r\n\t\t\t\t<u-row>\r\n\t\t\t\t\t<u-col span=\"6\" class=\"orderStatus\">\r\n\t\t\t\t\t\t<text class=\"text\" style=\"color:red;\">\r\n\t\t\t\t\t\t\t{{ item.orderStatus == 1 ? \"已付款\" : (item.orderStatus == 2 ? \"退款中\" : ((item.orderStatus == 3 ? \"已退款\" : ((item.orderStatus == 4 ? \"已完成\" : (item.orderStatus == 5 ? \"待评价\" : \"待付款\")))))) }}\r\n\t\t\t\t\t\t</text>\r\n\t\t\t\t\t</u-col>\r\n\t\t\t\t</u-row>\r\n\t\t\t</uni-card>\r\n\t\t</view>\r\n\t\t<view class=\"loading\" v-show=\"!isEmpty\">{{ loadingText }}</view>\r\n\t</view>\r\n\t</view>\r\n</template>\r\nvar _self, page = 1, timer = null;\r\n<script>\r\nexport default {\r\n\tname: \"\",\r\n\tdata() {\r\n\t\treturn {\r\n\t\t\t// 遮罩\r\n\t\t\toverlayShow: true,\r\n\t\t\t// 分段器 index 0、1、2、3、4、5\r\n\t\t\tlist: ['全部', '进行中', '已完成', '待评价', '已取消', '已退款'], // 订单状态：0-全部、1-进行中（已付款/待服务）、2-已完成、3-待评价、4-已取消、5-已退款\r\n\t\t\tcurNow: 0, // 分段器默认选中第一个\r\n\t\t\tisAllStatus: true, // 是否全部订单\r\n\t\t\tisEmpty: false, // 是否显示“空数据”\r\n\t\t\t// 列表内容\r\n\t\t\tnewsList: [{\r\n\t\t\t\t_id: \"加载中\",\r\n\t\t\t\ttitle: \"加载中\",\r\n\t\t\t\tcreated: 0,\r\n\t\t\t\torderGoodsName: \"加载中\",\r\n\t\t\t\torderGoodsCount: \"加载中\",\r\n\t\t\t\tactualAmountPaid: \"加载中\",\r\n\t\t\t\tdateTime: 0,\r\n\t\t\t\tisEnable: 1,\r\n\t\t\t\tcoverImage: {\r\n\t\t\t\t\t\"url\": \"\"\r\n\t\t\t\t},\r\n\t\t\t\timageList: [{\r\n\t\t\t\t\t\"url\": \"\"\r\n\t\t\t\t}]\r\n\t\t\t}],\r\n\t\t\tcollectionName: \"getOrder\",\r\n\t\t\tloadingText: '加载中...', // 当前状态\r\n\t\t\tpageNum: 1, //默认页数\r\n\t\t\tpageSize: 4, //一页加载数据条数\r\n\t\t\ttotal: 0,\r\n\t\t\t// 遮罩\r\n\t\t\tmaskShow: true,\r\n\r\n\t\t}\r\n\t},\r\n\tmethods: {\r\n\t\t//\r\n\t\tsectionChange(index) {\r\n\t\t\tthis.curNow = index;\r\n\t\t\tconsole.log(`sectionChange 当前选中:${index}`)\r\n\t\t\t// 判断index是否为0（全部订单）\r\n\t\t\tif (index == 0) {\r\n\t\t\t\tthis.isAllStatus = true;\r\n\t\t\t} else {\r\n\t\t\t\tthis.isAllStatus = false;\r\n\t\t\t}\r\n\r\n\t\t\t// 更新列表数据收到\r\n\t\t\tthis.getListData(index);\r\n\t\t},\r\n\t\t// 页面跳转\r\n\t\tgoto(url) {\r\n\t\t\tuni.navigateTo({\r\n\t\t\t\turl: url\r\n\t\t\t})\r\n\t\t},\r\n\t\t// 获取列表数据\r\n\t\tgetListData(index) { // 订单状态：0-全部、1-进行中（已付款/待服务）、2-已完成、3-待评价、4-已取消、5-已退款\r\n\t\t\t// 显示遮罩\r\n\t\t\tthis.maskShow = true\r\n\t\t\t// 初始化页码\r\n\t\t\tthis.pageNum = 1;\r\n\t\t\t// 显示loading\r\n\t\t\tuni.showNavigationBarLoading();\r\n\t\t\tvar that = this; // 重写this为that\r\n\t\t\tconsole.log(`getListData index:${index}`)\r\n\t\t\tconsole.log(`getListData isAllStatus:${that.isAllStatus}`)\r\n\t\t\t// 判断是否全部订单\r\n\t\t\tif (index != 0) {\r\n\t\t\t\tthat.isAllStatus = false;\r\n\t\t\t} else {\r\n\t\t\t\t// 可解决点击1-5后，再点击0，不显示数据的问题\r\n\t\t\t\tthat.isAllStatus = true;\r\n\t\t\t}\r\n\t\t\t// debugger\r\n\t\t\tuniCloud.callFunction({\r\n\t\t\t\tname: \"order\",\r\n\t\t\t\tdata: {\r\n\t\t\t\t\t\"methods\": \"getOrderList\",\r\n\t\t\t\t\t\"pageNum\": that.pageNum, //页码\r\n\t\t\t\t\t\"pageSize\": that.pageSize, // 每页数据\r\n\t\t\t\t\t\"isAllStatus\": that.isAllStatus, // 是否全部订单\r\n\t\t\t\t\t\"orderStatus\": Number(index), // 订单状态：0-全部、1-进行中（已付款/待服务）、2-已完成、3-待评价、4-已取消、5-已退款\r\n\t\t\t\t\t\"orderType\": \"普通订单\", // 订单类型\r\n\t\t\t\t\t\"openID\": uni.getStorageSync(\"openID\"), // \r\n\t\t\t\t\t// \"userID\": uni.getStorageSync(\"userID\"), // \r\n\t\t\t\t\t\"isEnable\": true // 订单状态\r\n\t\t\t\t},\r\n\t\t\t\tsuccess: (res) => {\r\n\t\t\t\t\tconsole.log(\"order getOrderList res:\", res)\r\n\t\t\t\t\t// 赋值给列表\r\n\t\t\t\t\tthat.newsList = res.result.data\r\n\t\t\t\t\tconsole.log(res.result.data);\r\n\t\t\t\t\t// 是否空数据\r\n\t\t\t\t\tif (that.newsList.length == 0) {\r\n\t\t\t\t\t\tthat.isEmpty = true;\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tthat.isEmpty = false;\r\n\t\t\t\t\t}\r\n\t\t\t\t\t//  隐藏遮罩\r\n\t\t\t\t\tthat.overlayShow = false;\r\n\t\t\t\t\t// 隐藏loading\r\n\t\t\t\t\tuni.hideNavigationBarLoading();\r\n\t\t\t\t\t// 停止下拉刷新加载\r\n\t\t\t\t\tuni.stopPullDownRefresh();\r\n\t\t\t\t\t// 关键，决定是否进行加载数据\r\n\t\t\t\t\tthat.loadingText = '加载更多';\r\n\t\t\t\t\tconsole.log(res.result.data);\r\n\t\t\t\t\t// 隐藏遮罩\r\n\t\t\t\t\tthat.maskShow = false\r\n\t\t\t\t},\r\n\t\t\t})\r\n\r\n\t\t},\r\n\t\t// 时间戳转年月日\r\n\t\tgetYMDHMS(timestamp) {\r\n\t\t\tvar date = new Date(timestamp); //时间戳为10位需*1000，时间戳为13位的话不需乘1000\r\n\t\t\tvar Y = date.getFullYear() + '-';\r\n\t\t\tvar M = (date.getMonth() + 1 < 10 ? '0' + (date.getMonth() + 1) : date.getMonth() + 1) + '-';\r\n\t\t\tvar D = (date.getDate() < 10 ? '0' + date.getDate() : date.getDate()) + ' ';\r\n\t\t\tvar h = (date.getHours() < 10 ? '0' + date.getHours() : date.getHours()) + ':';\r\n\t\t\tvar m = (date.getMinutes() < 10 ? '0' + date.getMinutes() : date.getMinutes()) + ':';\r\n\t\t\tvar s = (date.getSeconds() < 10 ? '0' + date.getSeconds() : date.getSeconds());\r\n\r\n\t\t\tvar strDate = Y + M + D + h + m + s;\r\n\t\t\treturn strDate;\r\n\t\t},\r\n\t\t// 加载更多\r\n\t\tgetMoreNews() {\r\n\t\t\tvar that = this;\r\n\t\t\t// 判断当前是否数据可加载TODO\r\n\t\t\tif (that.loadingText != '' && that.loadingText != '加载更多') {\r\n\t\t\t\tthat.loadingText = \"到底啦~\"\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t\tthat.loadingText = '加载中...';\r\n\t\t\t//在当前页面显示导航条加载动画。\r\n\t\t\tuni.showNavigationBarLoading();\r\n\t\t\t// 页面加载\r\n\t\t\tthat.pageNum++;\r\n\t\t\t// 调用云函数，获取列表\r\n\t\t\tuniCloud.callFunction({\r\n\t\t\t\tname: \"order\",\r\n\t\t\t\tdata: {\r\n\t\t\t\t\t\"methods\": \"getOrderList\",\r\n\t\t\t\t\t\"isAllStatus\": that.isAllStatus, // 是否全部订单\r\n\t\t\t\t\t\"orderStatus\": that.curNow, // 订单状态：0-全部、1-进行中（已付款/待服务）、2-已完成、3-待评价、4-已取消、5-已退款\r\n\t\t\t\t\t\"orderType\": \"普通订单\", // 订单类型\r\n\t\t\t\t\t\"openID\": uni.getStorageSync(\"openID\"), // \r\n\t\t\t\t\t\"userID\": uni.getStorageSync(\"userID\"), // \r\n\t\t\t\t\t\"isEnable\": true,\r\n\t\t\t\t\t\"pageNum\": that.pageNum,\r\n\t\t\t\t\t\"pageSize\": that.pageSize,\r\n\t\t\t\t\t\"isEnable\": 1\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t\t.then(res => {\r\n\t\t\t\t\tthat.loadingText = '';\r\n\t\t\t\t\tconsole.log(res);\r\n\t\t\t\t\t// 新旧数据拼接\r\n\t\t\t\t\tthat.newsList = that.newsList.concat(res.result.data);\r\n\t\t\t\t\tthat.loadingText = '加载更多';\r\n\t\t\t\t\t// 判断是否加载完毕\r\n\t\t\t\t\tif (res.result.data.length == 0) {\r\n\t\t\t\t\t\t// 是否空数据\r\n\t\t\t\t\t\tif (that.newsList.length == 0) {\r\n\t\t\t\t\t\t\tthat.isEmpty = true;\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tthat.isEmpty = false;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t//在当前页面隐藏导航条加载动画。\r\n\t\t\t\t\t\tuni.hideNavigationBarLoading();\r\n\t\t\t\t\t\tthat.loadingText = '已加载全部';\r\n\t\t\t\t\t\treturn false;\r\n\t\t\t\t\t}\r\n\t\t\t\t\t//  隐藏遮罩\r\n\t\t\t\t\tthat.overlayShow = false;\r\n\t\t\t\t\t// 隐藏loading\r\n\t\t\t\t\tuni.hideNavigationBarLoading();\r\n\t\t\t\t}) // success\r\n\t\t\t\t.catch((err) => {\r\n\t\t\t\t\tconsole.log(err);\r\n\t\t\t\t}) // fail\r\n\t\t},\r\n\t},\r\n\tcreated() {\r\n\r\n\t},\r\n\tonPullDownRefresh() {\r\n\t\t// 默认获取订单\r\n\t\tthis.getListData(this.curNow)\r\n\t},\r\n\t//页面滚动到底部的事件\r\n\tonReachBottom() {\r\n\t\tthis.getMoreNews();\r\n\t},\r\n\tonLoad(options) {\r\n\t\t// debugger\r\n\t\tconsole.log(`options.orderStatus:${options.orderStatus}`)\r\n\t\t// 路由传参\r\n\t\t// 判断有参数传入（即是否undefined）\r\n\t\tif (options.orderStatus == undefined || options.orderStatus == \"\" || options.orderStatus == null) {\r\n\t\t\t// 当前选中\r\n\t\t\tthis.curNow = 0;\r\n\t\t} else {\r\n\t\t\t// 当前选中\r\n\t\t\tthis.curNow = Number(options.orderStatus);\r\n\t\t}\r\n\t\t// 自动下拉刷新\r\n\t\tuni.startPullDownRefresh()\r\n\t\t// 默认获取订单\r\n\t\tthis.getListData(options.orderStatus)\r\n\t\t// 当前页面\r\n\t\tconsole.log(`当前页面:order`)\r\n\t},\r\n\t// // uniapp微信小程序分享页面到微信好友\r\n\t// onShareAppMessage() {\r\n\t// \t// TODO\t读取缓存分享人ID\r\n\t// \treturn {\r\n\t// \t\ttitle: '师傅服务平台-用户端',\r\n\t// \t\tpath: `/pages/business/order/order?orderID=${}` //分享的页面路径\r\n\t// \t}\r\n\t// },\r\n\t// // uniapp微信小程序分享页面到微信朋友圈\r\n\t// onShareTimeline() {\r\n\t// \treturn {\r\n\t// \t\ttitle: '师傅服务平台-用户端 ',\r\n\t// \t\tpath: '/pages/business/order/order' //分享的页面路径\r\n\t// \t\tquery: ``,\r\n\t// \t\timageUrl: 'https://mp-e51575a6-5952-4ad5-bb31-45ff909d7f65.cdn.bspapp.com/cloudstorage/c89fedc8-0f75-4e8e-b151-ce90a17e7ce3.jpg',\r\n\t// \t}\r\n\t// },\r\n}\r\n</script>\r\n\r\n<style lang='scss'>\r\n.text {\r\n\tmargin-top: 10rpx;\r\n\tmargin-bottom: 10rpx;\r\n}\r\n\r\n.warp {\r\n\tdisplay: flex;\r\n\talign-items: center;\r\n\tjustify-content: center;\r\n\theight: 100%;\r\n}\r\n\r\npage {\r\n\tbackground-color: #f7f7f7;\r\n\tpadding-bottom: 30upx;\r\n}\r\n\r\n.card-item {\r\n\tdisplay: flex;\r\n\tflex-direction: column;\r\n\talign-items: center;\r\n}\r\n\r\n.orderGoodsName {\r\n\t/* display: flex;\r\n\t\talign-items: right;\r\n\t\tjustify-content: right;\r\n\t\theight: 80upx; */\r\n\t/* padding-top: 10upx; */\r\n\tmargin-top: 20rpx;\r\n\tmargin-bottom: 5rpx;\r\n\tfont-size: 30upx;\r\n\tcolor: black;\r\n}\r\n\r\n.orderStatus {\r\n\tdisplay: flex;\r\n\talign-items: right;\r\n\tjustify-content: right;\r\n\t/* height: 80upx; */\r\n\t/* padding-top: 10upx; */\r\n\tmargin-top: 10rpx;\r\n\tmargin-bottom: 5rpx;\r\n\tfont-size: 30upx;\r\n\tcolor: red;\r\n}\r\n\r\n.orderGoodsCount {\r\n\t/* display: flex;\r\n\t\talign-items: right;\r\n\t\tjustify-content: right;\r\n\t\theight: 80upx;\r\n\t\tmargin-top: 5rpx;\r\n\t\tpadding-top: 10upx; */\r\n\tmargin-top: 10rpx;\r\n\tmargin-bottom: 5rpx;\r\n\tfont-size: 30upx;\r\n\tcolor: black;\r\n}\r\n\r\n.content {\r\n\twidth: 710upx;\r\n\tpadding: 0 24upx;\r\n\tbackground-color: #fff;\r\n\tborder-radius: 4upx;\r\n}\r\n\r\n.title {\r\n\tdisplay: flex;\r\n\talign-items: center;\r\n\theight: 90upx;\r\n\tfont-size: 32upx;\r\n\tcolor: #303133;\r\n}\r\n\r\n.img-wrapper {\r\n\twidth: 100%;\r\n\theight: 290upx;\r\n\tposition: relative;\r\n}\r\n\r\n.pic {\r\n\tdisplay: block;\r\n\twidth: 100%;\r\n\theight: 100%;\r\n\tborder-radius: 6upx;\r\n}\r\n\r\n.introduce {\r\n\tdisplay: inline-block;\r\n\tfont-size: 30upx;\r\n\tmargin-left: 1%;\r\n\tmargin-right: 1%;\r\n\tmargin-top: 1%;\r\n\tmargin-buttom: 1%;\r\n\tcolor: black;\r\n\tline-height: 38upx;\r\n\tcolor: #303133;\r\n}\r\n\r\n.bot {\r\n\tdisplay: flex;\r\n\talign-items: center;\r\n\tjustify-content: space-between;\r\n\theight: 80upx;\r\n\tfont-size: 24upx;\r\n\tcolor: #707070;\r\n\tposition: relative;\r\n}\r\n\r\n.more-icon {\r\n\tfont-size: 32upx;\r\n}\r\n\r\n.loading {\r\n\ttext-align: center;\r\n\tcolor: #8F8F94;\r\n}\r\n\r\n.card {\r\n\theight: 30rpx;\r\n\tbackground: #ffffff;\r\n\tmargin-top: 1%;\r\n\tmargin-left: 1%;\r\n\tmargin-right: 1%;\r\n\tborder-radius: 15rpx;\r\n\tposition: relative;\r\n}\r\n\r\n.originalPrice {\r\n\ttext-decoration: line-through;\r\n\tcolor: #a4a7b0;\r\n\tfont-size: 40rpx;\r\n\tmargin-left: 25%;\r\n\tmargin-right: 2%;\r\n\r\n}\r\n\r\n.presentPrice {\r\n\tcolor: orange;\r\n\tfont-size: 60rpx;\r\n\tmargin-left: 1%;\r\n}\r\n</style>","import mod from \"-!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./order.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./order.vue?vue&type=style&index=0&lang=scss&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1743495984037\n      var cssReload = require(\"/Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"/\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}