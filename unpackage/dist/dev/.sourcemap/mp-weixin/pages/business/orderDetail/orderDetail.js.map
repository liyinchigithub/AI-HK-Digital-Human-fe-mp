{"version":3,"sources":["uni-app:///main.js","webpack:////Users/liyinchi/workspace/前端/Dcolud/AI-HK-Digital-Human-fe-mp/pages/business/orderDetail/orderDetail.vue?ee9a","webpack:////Users/liyinchi/workspace/前端/Dcolud/AI-HK-Digital-Human-fe-mp/pages/business/orderDetail/orderDetail.vue?6e1b","webpack:////Users/liyinchi/workspace/前端/Dcolud/AI-HK-Digital-Human-fe-mp/pages/business/orderDetail/orderDetail.vue?9c03","webpack:////Users/liyinchi/workspace/前端/Dcolud/AI-HK-Digital-Human-fe-mp/pages/business/orderDetail/orderDetail.vue?feb9","uni-app:///pages/business/orderDetail/orderDetail.vue","webpack:////Users/liyinchi/workspace/前端/Dcolud/AI-HK-Digital-Human-fe-mp/pages/business/orderDetail/orderDetail.vue?7a69","webpack:////Users/liyinchi/workspace/前端/Dcolud/AI-HK-Digital-Human-fe-mp/pages/business/orderDetail/orderDetail.vue?5841"],"names":["wx","__webpack_require_UNI_MP_PLUGIN__","__webpack_require__","createPage","Page","data","orderDetailData","_id","orderGoodsID","orderGoodsName","orderGoodsCount","orderType","orderStatus","orderOriginalAmount","orderCurrentAmount","orderDiscountAmount","amountPayable","actualAmountPaid","orderPayType","discountMethod","isAssociatedBookingSheet","reservationID","openID","userID","created","isEnable","imageUrl","modalShow","confirmText","cancelText","methods","goto","uni","url","getRefund","out_trade_no","res","content","showCancel","applyRefund","confirm","refund_fee","result","title","icon","cancel","close","getGoodsImageDetail","uniCloud","name","success","console","that","getUniPayOrderInfo","getOrderData","callFunction","then","catch","getYMDHMS","copyOrder","onLoad","onShareAppMessage","path","onShareTimeline","query"],"mappings":";;;;;;;;;;;;;AAAA;AAE2D;AAAuD;AAA4E;AAC9L;AACA;AAHA;AACAA,EAAE,CAACC,iCAAiC,GAAGC,mBAAmB;AAAuD;AAGjHC,UAAU,CAACC,oBAAI,CAAC,C;;;;;;;;;;;;;ACLhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAwH;AACxH;AAC+D;AACL;AACa;;;AAGvE;AACsN;AACtN,gBAAgB,iNAAU;AAC1B,EAAE,iFAAM;AACR,EAAE,sFAAM;AACR,EAAE,+FAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,0FAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA,aAAa,uPAEN;AACP,KAAK;AACL;AACA,aAAa,2RAEN;AACP,KAAK;AACL;AACA,aAAa,2RAEN;AACP,KAAK;AACL;AACA,aAAa,6SAEN;AACP,KAAK;AACL;AACA,aAAa,6SAEN;AACP,KAAK;AACL;AACA,aAAa,uSAEN;AACP,KAAK;AACL;AACA,aAAa,oSAEN;AACP,KAAK;AACL;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACxEA;AAAA;AAAA;AAAA;AAAu2B,CAAgB,yyBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;eCqJ33B;EACAC;IACA;MACAC;QACAC;QACAC;QAAA;QACAC;QAAA;QACAC;QACAC;QACAC;QACAC;QACAC;QACAC;QACAC;QACAC;QACAC;QACAC;QACAC;QACAC;QACAC;QACAC;QACAC;QACAC;QACAC;MACA;MACA;MACAC;MACAC;MACAC;IAGA;EACA;EACAC;IACAC;MACA;MACAC;QACAC;MACA;IACA;IACA;IACAC;MAAA;MAAA;QAAA;QAAA;UAAA;YAAA;cAAA;gBAAA;gBAAA,OACA;kBACAC;gBACA;cAAA;gBAFAC;gBAGA;kBACAJ;oBACAK;oBACAC;kBACA;gBACA;cAAA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA;IACA;IACA;IACAC;MACA;MACA;IACA;IACA;IACAC;MAAA;MAAA;QAAA;QAAA;UAAA;YAAA;cAAA;gBAAA;gBAAA,OAEA;kBACAL;kBAAA;kBACAM;gBACA;cAAA;gBAHAC;gBAIA;gBACA;kBACAV;oBACAW;oBACAC;kBACA;gBACA;gBACA;gBACA;gBACA;gBACA;cAAA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA;IAEA;IACA;IACAC;MACA;MACA;IACA;IACA;IACAC;MACA;MACA;IACA;IACA;IACAC;MACA;MACAC;QACAC;QACA5C;UACA;UACA;QACA;QACA6C;UACAC;UACAC;UACAA;UACAA;UACAA;QAEA;MACA;IACA;IACA;IACAC;MACA;MACAL;QACAC;QACA5C;UACA;QACA;QACA6C;UACAC;UACA;UACAC;UACAA;QACA;MACA;IACA;IACA;IACAE;MACA;MACA;MACAtB;MACA;MACAgB,SACAO;QACAN;QACA5C;UACA;UACA;QACA;MACA,GACAmD;QACAJ;QACAD;QACAA;QACA;QACAC;QACAA;QACAA;QACAA;QACAA;QACAA;QACAA;QACAA;QACAA,8DACArC;QACAqC;QACAA;QACAA;QACAA;QACAA;QACAA;QACAA;QACAA;QACAA;QACAA;QACAA;QACA;QACApB;QACA;QACAoB;QACA;QACAA;MACA;MAAA,CACAK;QACAN;MACA;IACA;IACA;IACAO;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MAEA;MACA;IACA;IACA;IACAC;MACA3B;QACA3B;QACA6C;UACAlB;YACAW;UACA;QACA;MACA;IACA;EACA;EACAiB;IACAT;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACAA;EAEA;EACA;EACAU;IACA;IACA;MACAlB;MACAmB;IACA;EACA;EACA;EACAC;IACA;IACA;MACApB;MACAmB;MAAA;MACAE;MACAtC;IACA;EACA;EACAF;AACA;AAAA,2B;;;;;;;;;;;;;AC1XA;AAAA;AAAA;AAAA;AAAguC,CAAgB,smCAAG,EAAC,C;;;;;;;;;;;ACApvC;AACA,OAAO,KAAU,EAAE,kBAKd","file":"pages/business/orderDetail/orderDetail.js","sourcesContent":["import 'uni-pages';\n// @ts-ignore\nwx.__webpack_require_UNI_MP_PLUGIN__ = __webpack_require__;import '@dcloudio/uni-stat/dist/uni-cloud-stat.es.js';;import '@dcloudio/vue-cli-plugin-uni/packages/uni-push/dist/uni-push.es.js';import '@dcloudio/vue-cli-plugin-uni/packages/uni-cloud/dist/index.js';\nimport Vue from 'vue'\nimport Page from './pages/business/orderDetail/orderDetail.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./orderDetail.vue?vue&type=template&id=192324ce&\"\nvar renderjs\nimport script from \"./orderDetail.vue?vue&type=script&lang=js&\"\nexport * from \"./orderDetail.vue?vue&type=script&lang=js&\"\nimport style0 from \"./orderDetail.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/business/orderDetail/orderDetail.vue\"\nexport default component.exports","export * from \"-!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--17-0!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./orderDetail.vue?vue&type=template&id=192324ce&\"","var components\ntry {\n  components = {\n    uniCard: function () {\n      return import(\n        /* webpackChunkName: \"uni_modules/uni-card/components/uni-card/uni-card\" */ \"@/uni_modules/uni-card/components/uni-card/uni-card.vue\"\n      )\n    },\n    uRow: function () {\n      return import(\n        /* webpackChunkName: \"uni_modules/uview-ui/components/u-row/u-row\" */ \"@/uni_modules/uview-ui/components/u-row/u-row.vue\"\n      )\n    },\n    uCol: function () {\n      return import(\n        /* webpackChunkName: \"uni_modules/uview-ui/components/u-col/u-col\" */ \"@/uni_modules/uview-ui/components/u-col/u-col.vue\"\n      )\n    },\n    \"u-Image\": function () {\n      return import(\n        /* webpackChunkName: \"uni_modules/uview-ui/components/u--image/u--image\" */ \"@/uni_modules/uview-ui/components/u--image/u--image.vue\"\n      )\n    },\n    uButton: function () {\n      return import(\n        /* webpackChunkName: \"uni_modules/uview-ui/components/u-button/u-button\" */ \"@/uni_modules/uview-ui/components/u-button/u-button.vue\"\n      )\n    },\n    uModal: function () {\n      return import(\n        /* webpackChunkName: \"uni_modules/uview-ui/components/u-modal/u-modal\" */ \"@/uni_modules/uview-ui/components/u-modal/u-modal.vue\"\n      )\n    },\n    uniPay: function () {\n      return import(\n        /* webpackChunkName: \"uni_modules/uni-pay/components/uni-pay/uni-pay\" */ \"@/uni_modules/uni-pay/components/uni-pay/uni-pay.vue\"\n      )\n    },\n  }\n} catch (e) {\n  if (\n    e.message.indexOf(\"Cannot find module\") !== -1 &&\n    e.message.indexOf(\".vue\") !== -1\n  ) {\n    console.error(e.message)\n    console.error(\"1. 排查组件名称拼写是否正确\")\n    console.error(\n      \"2. 排查组件是否符合 easycom 规范，文档：https://uniapp.dcloud.net.cn/collocation/pages?id=easycom\"\n    )\n    console.error(\n      \"3. 若组件不符合 easycom 规范，需手动引入，并在 components 中注册该组件\"\n    )\n  } else {\n    throw e\n  }\n}\nvar render = function () {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  var m0 = _vm.getYMDHMS(_vm.orderDetailData.created)\n  _vm.$mp.data = Object.assign(\n    {},\n    {\n      $root: {\n        m0: m0,\n      },\n    }\n  )\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--13-1!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./orderDetail.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--13-1!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./orderDetail.vue?vue&type=script&lang=js&\"","<template>\n\t<view>\n\t\t<uni-card class=\"card\">\n\t\t\t<u-row gutter=\"12\">\n\t\t\t\t<u-col span=\"10\">\n\t\t\t\t\t<view\n\t\t\t\t\t\tstyle=\"color: #f56c6c;font-size: 40rpx;margin-top: 20rpx;margin-bottom: 20rpx;text-align: center;\">\n\t\t\t\t\t\t<text>{{orderDetailData.orderStatus==1?\"已付款\":(orderDetailData.orderStatus==2?\"退款中\":((orderDetailData.orderStatus==3?\"已退款\":((orderDetailData.orderStatus==4?\"已完成\":(orderDetailData.orderStatus==5?\"待评价\":\"待付款\"))))))}}</text>\n\t\t\t\t\t</view>\n\t\t\t\t</u-col>\n\t\t\t</u-row>\n\t\t</uni-card>\n\t\t<uni-card class=\"card\">\n\t\t\t<u-row gutter=\"12\"\n\t\t\t\t@click=\"goto(`/pages/business/goodsDetail/goodsDetail?goodsID=${orderDetailData.orderGoodsID}`)\">\n\t\t\t\t<u-col span=\"5\">\n\t\t\t\t\t<u--image :showLoading=\"true\" :src=\"orderDetailData.imageUrl\" width=\"160rpx\" height=\"160rpx\">\n\t\t\t\t\t</u--image>\n\t\t\t\t</u-col>\n\t\t\t\t<u-col span=\"10\">\n\t\t\t\t\t<u-row gutter=\"12\">\n\t\t\t\t\t\t<text\n\t\t\t\t\t\t\tstyle=\"font-size: 30rpx;color: black;margin-top: 10rpx;margin-bottom: 10rpx;\">{{orderDetailData.orderGoodsName}}</text>\n\t\t\t\t\t</u-row>\n\t\t\t\t\t<u-row getter=\"flex-end\">\n\t\t\t\t\t\tx<text\n\t\t\t\t\t\t\tstyle=\"font-size: 30rpx;color: black;margin-top: 10rpx;margin-bottom: 10rpx;\">{{orderDetailData.orderGoodsCount}}</text>\n\t\t\t\t\t</u-row>\n\t\t\t\t</u-col>\n\t\t\t</u-row>\n\t\t\t<!-- <u-divider text=\"分割线\" :dot=\"true\"></u-divider> -->\n\t\t\t<u-row gutter=\"12\">\n\t\t\t\t<u-col span=\"8\">\n\t\t\t\t\t<view style=\"font-size: 30rpx;margin-top: 20rpx;margin-bottom: 20rpx;\">\n\t\t\t\t\t\t<text style=\"color:#909399;\">商品价格：</text>\n\t\t\t\t\t</view>\n\t\t\t\t</u-col>\n\t\t\t\t<u-col span=\"4\">\n\t\t\t\t\t<view style=\"font-size: 30rpx;margin-top: 20rpx;margin-bottom: 20rpx;\">\n\t\t\t\t\t\t<text style=\"color:black;margin-left: 20rpx;\">\n\t\t\t\t\t\t\t{{orderDetailData.orderCurrentAmount}}</text> <text\n\t\t\t\t\t\t\tstyle=\"margin-left: 10rpx;color:black;\">元</text>\n\t\t\t\t\t</view>\n\t\t\t\t</u-col>\n\t\t\t</u-row>\n\t\t\t<u-row gutter=\"12\">\n\t\t\t\t<u-col span=\"8\">\n\t\t\t\t\t<view style=\"font-size: 30rpx;margin-top: 20rpx;margin-bottom: 20rpx;\">\n\t\t\t\t\t\t<text style=\"color: #909399;\">优惠金额：</text>\n\t\t\t\t\t</view>\n\t\t\t\t</u-col>\n\t\t\t\t<u-col span=\"4\">\n\t\t\t\t\t<view style=\"font-size: 30rpx;margin-top: 20rpx;margin-bottom: 20rpx;\">\n\t\t\t\t\t\t<text style=\"font-size: 50rpx;color: red;border: 10ch;margin-left: 20rpx;\"> - </text>\n\t\t\t\t\t\t<text\n\t\t\t\t\t\t\tstyle=\"color:black;margin-left: 20rpx;\">{{orderDetailData.orderDiscountAmount}}</text><text\n\t\t\t\t\t\t\tstyle=\"color:black;margin-left: 10rpx;\">元</text>\n\t\t\t\t\t</view>\n\t\t\t\t</u-col>\n\t\t\t</u-row>\n\t\t\t<u-row gutter=\"12\">\n\t\t\t\t<u-col span=\"8\">\n\t\t\t\t\t<view style=\"font-size: 30rpx;margin-top: 20rpx;margin-bottom: 20rpx;\">\n\t\t\t\t\t\t<text style=\"color: #909399;\">应付金额：</text>\n\t\t\t\t\t</view>\n\t\t\t\t</u-col>\n\t\t\t\t<u-col span=\"4\">\n\t\t\t\t\t<view style=\"font-size: 30rpx;margin-top: 20rpx;margin-bottom: 20rpx;\">\n\t\t\t\t\t\t<text style=\"color:black;margin-left: 20rpx;\">\n\t\t\t\t\t\t\t{{orderDetailData.amountPayable}}</text> <text\n\t\t\t\t\t\t\tstyle=\"color:black;margin-left: 10rpx;\">元</text>\n\t\t\t\t\t</view>\n\t\t\t\t</u-col>\n\t\t\t</u-row>\n\t\t\t<u-row gutter=\"12\">\n\t\t\t\t<u-col span=\"8\">\n\t\t\t\t\t<view style=\"font-size: 30rpx;margin-top: 20rpx;margin-bottom: 20rpx;\">\n\t\t\t\t\t\t<text style=\"color: #909399;\">实付金额：</text>\n\t\t\t\t\t</view>\n\t\t\t\t</u-col>\n\t\t\t\t<u-col span=\"4\">\n\t\t\t\t\t<view style=\"font-size: 30rpx;margin-top: 20rpx;margin-bottom: 20rpx;\">\n\t\t\t\t\t\t<text\n\t\t\t\t\t\t\tstyle=\"color:black;margin-left: 20rpx;text-align: right;\">{{orderDetailData.actualAmountPaid}}</text><text\n\t\t\t\t\t\t\tstyle=\"color:black;margin-left: 10rpx;text-align: right;\">元</text>\n\t\t\t\t\t</view>\n\t\t\t\t</u-col>\n\t\t\t</u-row>\n\t\t</uni-card>\n\t\t<uni-card class=\"card\">\n\t\t\t<u-row gutter=\"12\">\n\t\t\t\t<u-col span=\"10\">\n\t\t\t\t\t<view style=\"margin-top: 20rpx;margin-bottom: 20rpx;\">\n\t\t\t\t\t\t<text style=\"color: #909399;font-size: 30rpx;\">订单号：</text><text\n\t\t\t\t\t\t\tstyle=\"color:black;\">{{orderDetailData._id}}</text>\n\t\t\t\t\t</view>\n\t\t\t\t</u-col>\n\t\t\t\t<u-col span=\"2\">\n\t\t\t\t\t<u-button type=\"error\" :plain=\"true\" text=\"复制\" @click=\"copyOrder(orderDetailData._id)\"\n\t\t\t\t\t\tsize=\"mini\"></u-button>\n\t\t\t\t</u-col>\n\t\t\t</u-row>\n\t\t\t<u-row gutter=\"12\">\n\t\t\t\t<u-col span=\"5\">\n\t\t\t\t\t<view style=\"margin-top: 20rpx;margin-bottom: 20rpx;\">\n\t\t\t\t\t\t<text style=\"color:#909399;font-size: 30rpx;\">创建时间：</text>\n\t\t\t\t\t</view>\n\t\t\t\t</u-col>\n\t\t\t\t<u-col span=\"7\">\n\t\t\t\t\t<view style=\"margin-top: 20rpx;margin-bottom: 20rpx;\">\n\t\t\t\t\t\t<text style=\"color:black;\">{{getYMDHMS(orderDetailData.created)}}</text>\n\t\t\t\t\t</view>\n\t\t\t\t</u-col>\n\t\t\t</u-row>\n\t\t</uni-card>\n\t\t<uni-card class=\"card\">\n\t\t\t<u-row justify=\"end\">\n\t\t\t\t<u-col span=\"4\">\n\t\t\t\t\t<view style=\"margin-left: 10rpx;margin-right: 20rpx;\">\n\t\t\t\t\t\t<!-- 再次购买按钮 -->\n\t\t\t\t\t\t<u-button type=\"primary\" text=\"再次购买\"\n\t\t\t\t\t\t\t@click=\"goto(`/pages/business/goodsDetail/goodsDetail?goodsID=${orderDetailData.orderGoodsID}`)\"></u-button>\n\t\t\t\t\t</view>\n\t\t\t\t</u-col>\n\t\t\t\t<u-col span=\"4\">\n\t\t\t\t\t<!-- todo 申请退款按钮 -->\n\t\t\t\t\t<view style=\"margin-left: 10rpx;margin-right: 20rpx;\">\n\t\t\t\t\t\t<u-button type=\"warning\" text=\"申请退款\" @click=\"applyRefund()\"></u-button>\n\t\t\t\t\t</view>\n\t\t\t\t</u-col>\n\t\t\t\t<u-col span=\"4\">\n\t\t\t\t\t<!-- todo 申请退款按钮 -->\n\t\t\t\t\t<view style=\"margin-left: 10rpx;margin-right: 20rpx;\">\n\t\t\t\t\t\t<u-button type=\"info\" text=\"联系客服\" open-type=\"contact\"></u-button>\n\t\t\t\t\t</view>\n\t\t\t\t</u-col>\n\t\t\t</u-row>\n\t\t</uni-card>\n\t\t<!-- 申请退款确认弹窗 -->\n\t\t<u-modal :show=\"modalShow\" title=\"确认\" content=\"是否申请退款\" :closeOnClickOverlay=\"true\" confirmText=\"确定\" cancelText=\"取消\" @confirm=\"confirm()\" :showCancelButton=\"true\" :showConfirmButton=\"true\"\n\t\t\t@cancel=\"cancel()\" @close=\"close\"></u-modal>\n\t\t<!-- uni-pay 组件（隐藏） -->\n\t\t<!-- https://uniapp.dcloud.net.cn/uniCloud/uni-pay.html#组件方法 -->\n\t\t<!-- 其他参数 :debug=\"true\" :adpid=\"adpid\" return-url=\"/pages/business/orderDetail/orderDetail\" -->\n\t\t<uni-pay ref=\"uniPay\" v-show=\"false\" @fail=\"onFail\"></uni-pay>\n\t</view>\n</template>\n\n<script>\n\texport default {\n\t\tdata() {\n\t\t\treturn {\n\t\t\t\torderDetailData: {\n\t\t\t\t\t_id: \"\",\n\t\t\t\t\torderGoodsID: \"\", // 订单-商品ID\n\t\t\t\t\torderGoodsName: \"\", // 订单-商品名称\n\t\t\t\t\torderGoodsCount: \"\",\n\t\t\t\t\torderType: \"\",\n\t\t\t\t\torderStatus: 6,\n\t\t\t\t\torderOriginalAmount: \"\",\n\t\t\t\t\torderCurrentAmount: \"\",\n\t\t\t\t\torderDiscountAmount: \"\",\n\t\t\t\t\tamountPayable: \"\",\n\t\t\t\t\tactualAmountPaid: \"\",\n\t\t\t\t\torderPayType: \"\",\n\t\t\t\t\tdiscountMethod: \"\",\n\t\t\t\t\tisAssociatedBookingSheet: \"\",\n\t\t\t\t\treservationID: \"\",\n\t\t\t\t\topenID: \"\",\n\t\t\t\t\tuserID: \"\",\n\t\t\t\t\tcreated: \"\",\n\t\t\t\t\tisEnable: \"\",\n\t\t\t\t\timageUrl: \"\",\n\t\t\t\t},\n\t\t\t\t// 申请退款确认弹窗\n\t\t\t\tmodalShow: false,\n\t\t\t\tconfirmText: \"确认\",\n\t\t\t\tcancelText: \"取消\",\n\n\n\t\t\t};\n\t\t},\n\t\tmethods: {\n\t\t\tgoto(url) {\n\t\t\t\t// reLaunch会关闭之前所有页面，navigateTo保留之前访问所有页面\n\t\t\t\tuni.navigateTo({\n\t\t\t\t\turl: url\n\t\t\t\t})\n\t\t\t},\n\t\t\t// 查询退款状态\n\t\t\tasync getRefund() {\n\t\t\t\tlet res = await this.$refs.uniPay.getRefund({\n\t\t\t\t\tout_trade_no: this.orderDetailData.uniPayOutTradeNo, // 插件支付单号\n\t\t\t\t});\n\t\t\t\tif (res) {\n\t\t\t\t\tuni.showModal({\n\t\t\t\t\t\tcontent: res.errMsg,\n\t\t\t\t\t\tshowCancel: false\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t},\n\t\t\t// 发起退款\n\t\t\tapplyRefund() {\n\t\t\t\t// 显示确认弹窗\n\t\t\t\tthis.modalShow = true\n\t\t\t},\n\t\t\t// 申请退款确认弹窗-确认\n\t\t\tasync confirm() {\n\t\t\t\t// todo 更新页面、更新订单状态为\"退款中\"\"\n\t\t\t\tlet result = await this.$refs.uniPay.refund({\n\t\t\t\t\tout_trade_no: this.orderDetailData.uniPayOutTradeNo, // 插件支付单号\n\t\t\t\t\trefund_fee:(this.orderDetailData.actualAmountPaid)*100\n\t\t\t\t});\n\t\t\t\t// \n\t\t\t\tif (result) {\n\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\ttitle: result.errMsg,\n\t\t\t\t\t\ticon: \"none\"\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\t// 查询退款状态\n\t\t\t\t// this.getRefund();\n\t\t\t\t// 关闭确认弹窗\n\t\t\t\tthis.modalShow = false\n\t\t\t\t\n\t\t\t},\n\t\t\t// 申请退款确认弹窗-cancel\n\t\t\tcancel() {\n\t\t\t\t// 关闭确认弹窗\n\t\t\t\tthis.modalShow = false\n\t\t\t},\n\t\t\t// 申请退款确认弹窗close\n\t\t\tclose() {\n\t\t\t\t// 关闭确认弹窗\n\t\t\t\tthis.modalShow = false\n\t\t\t},\n\t\t\t// 获取商品图片\n\t\t\tgetGoodsImageDetail() {\n\t\t\t\tvar that = this;\n\t\t\t\tuniCloud.callFunction({\n\t\t\t\t\tname: \"goods\",\n\t\t\t\t\tdata: {\n\t\t\t\t\t\t\"method\": \"getGoodsDetail\",\n\t\t\t\t\t\t\"orderGoodsID\": that.orderDetailData.orderGoodsID\n\t\t\t\t\t},\n\t\t\t\t\tsuccess(res) {\n\t\t\t\t\t\tconsole.log(\"goods getGoodsDetail res.result.data:\", res.result.data)\n\t\t\t\t\t\tthat.orderDetailData.imageUrl = res.result.data[0].image.url\n\t\t\t\t\t\tthat.orderDetailData.orderGoodsName = res.result.data[0].title\n\t\t\t\t\t\tthat.orderDetailData.classTypeID = res.result.data[0].classTypeID\n\t\t\t\t\t\tthat.orderDetailData.brandID = res.result.data[0].brandID\n\t\t\t\t\t\t\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t},\n\t\t\t// 获取微信支付订单信息\n\t\t\tgetUniPayOrderInfo() {\n\t\t\t\tvar that = this;\n\t\t\t\tuniCloud.callFunction({\n\t\t\t\t\tname: \"getUniPayOrder\",\n\t\t\t\t\tdata: {\n\t\t\t\t\t\t\"orderNo\": that.orderDetailData.orderNo\n\t\t\t\t\t},\n\t\t\t\t\tsuccess(res) {\n\t\t\t\t\t\tconsole.log(\"getUniPayOrder res：\", res)\n\t\t\t\t\t\t// 微信支付订单，实际支付金额\n\t\t\t\t\t\tthat.orderDetailData.actualAmountPaid = res.result.data[0].total_fee / 100;\n\t\t\t\t\t\tthat.orderDetailData.uniPayOutTradeNo = res.result.data[0].out_trade_no;\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t},\n\t\t\t// 获取自有订单信息\n\t\t\tgetOrderData() {\n\t\t\t\tvar that = this;\n\t\t\t\t//在当前页面显示导航条加载动画。\n\t\t\t\tuni.showNavigationBarLoading();\n\t\t\t\t// 调用云函数，获取列表\n\t\t\t\tuniCloud\n\t\t\t\t\t.callFunction({\n\t\t\t\t\t\tname: \"order\",\n\t\t\t\t\t\tdata: {\n\t\t\t\t\t\t\t\"method\": \"getOrderDetail\",\n\t\t\t\t\t\t\t\"orderID\": that.orderDetailData.orderID,\n\t\t\t\t\t\t},\n\t\t\t\t\t})\n\t\t\t\t\t.then((res) => {\n\t\t\t\t\t\tthat.loadingText = \"\";\n\t\t\t\t\t\tconsole.log(`orderID:${that.orderDetailData.orderID}`);\n\t\t\t\t\t\tconsole.log(`getOrderDetail res :${JSON.stringify(res.result)}`);\n\t\t\t\t\t\t// 新旧数据拼接\n\t\t\t\t\t\tthat.orderDetailData._id = res.result.data[0]._id;\n\t\t\t\t\t\tthat.orderDetailData.orderGoodsID = res.result.data[0].orderGoodsID; // 商品ID\n\t\t\t\t\t\tthat.orderDetailData.orderGoodsName = res.result.data[0].orderGoodsName; // 订单商品名称\n\t\t\t\t\t\tthat.orderDetailData.orderGoodsCount = res.result.data[0].orderGoodsCount; // 订单购买商品数量\n\t\t\t\t\t\tthat.orderDetailData.orderType = res.result.data[0].orderType; // 订单类型\n\t\t\t\t\t\tthat.orderDetailData.orderStatus = res.result.data[0].orderStatus // 订单状态\n\t\t\t\t\t\tthat.orderDetailData.orderOriginalAmount = res.result.data[0].orderOriginalAmount // 原价\n\t\t\t\t\t\tthat.orderDetailData.orderCurrentAmount = res.result.data[0].orderCurrentAmount; // 现价\n\t\t\t\t\t\tthat.orderDetailData.orderDiscountAmount = res.result.data[0]\n\t\t\t\t\t\t\t.orderDiscountAmount; // 优惠金额（原价-现价=优惠金额）\n\t\t\t\t\t\tthat.orderDetailData.amountPayable = res.result.data[0].amountPayable; // 应付金额\n\t\t\t\t\t\tthat.orderDetailData.actualAmountPaid = res.result.data[0].actualAmountPaid; // 实际支付金额\n\t\t\t\t\t\tthat.orderDetailData.orderPayType = res.result.data[0].orderPayType; //\n\t\t\t\t\t\tthat.orderDetailData.discountMethod = res.result.data[0].discountMethod; //\n\t\t\t\t\t\tthat.orderDetailData.isAssociatedBookingSheet = res.result.data[0].isAssociatedBookingSheet; //\n\t\t\t\t\t\tthat.orderDetailData.reservationID = res.result.data[0].reservationID; // 预约单ID\n\t\t\t\t\t\tthat.orderDetailData.openID = res.result.data[0].openID;\n\t\t\t\t\t\tthat.orderDetailData.userID = res.result.data[0].userID;\n\t\t\t\t\t\tthat.orderDetailData.created = res.result.data[0].created;\n\t\t\t\t\t\tthat.orderDetailData.isEnable = res.result.data[0].isEnable;\n\t\t\t\t\t\tthat.orderDetailData.orderNo = res.result.data[0].orderNo;\n\t\t\t\t\t\t// 隐藏loading\n\t\t\t\t\t\tuni.hideNavigationBarLoading();\n\t\t\t\t\t\t// 获取商品数据\n\t\t\t\t\t\tthat.getGoodsImageDetail()\n\t\t\t\t\t\t// 获取微信支付订单数据\n\t\t\t\t\t\tthat.getUniPayOrderInfo()\n\t\t\t\t\t}) // success\n\t\t\t\t\t.catch((err) => {\n\t\t\t\t\t\tconsole.log(err);\n\t\t\t\t\t}); // fail\n\t\t\t},\n\t\t\t// 时间戳转年月日\n\t\t\tgetYMDHMS(timestamp) {\n\t\t\t\tvar date = new Date(timestamp); //时间戳为10位需*1000，时间戳为13位的话不需乘1000\n\t\t\t\tvar Y = date.getFullYear() + '-';\n\t\t\t\tvar M = (date.getMonth() + 1 < 10 ? '0' + (date.getMonth() + 1) : date.getMonth() + 1) + '-';\n\t\t\t\tvar D = (date.getDate() < 10 ? '0' + date.getDate() : date.getDate()) + ' ';\n\t\t\t\tvar h = (date.getHours() < 10 ? '0' + date.getHours() : date.getHours()) + ':';\n\t\t\t\tvar m = (date.getMinutes() < 10 ? '0' + date.getMinutes() : date.getMinutes()) + ':';\n\t\t\t\tvar s = (date.getSeconds() < 10 ? '0' + date.getSeconds() : date.getSeconds());\n\n\t\t\t\tvar strDate = Y + M + D + h + m + s;\n\t\t\t\treturn strDate;\n\t\t\t},\n\t\t\t// 复制订单号\n\t\t\tcopyOrder(orderID) {\n\t\t\t\tuni.setClipboardData({\n\t\t\t\t\tdata: orderID,\n\t\t\t\t\tsuccess() {\n\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\ttitle: \"复制成功\"\n\t\t\t\t\t\t})\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t}\n\t\t},\n\t\tonLoad(options) {\n\t\t\tconsole.log(`onLoad options.orderID:${options.orderID}`);\n\t\t\t//\n\t\t\t// this.orderStatus=options.orderStatus;// 订单状态\n\t\t\tthis.orderDetailData.orderID = options.orderID;\n\t\t\tthis.orderDetailData.reservationID = options.reservationID;\n\t\t\t//\n\t\t\tthis.getOrderData();\n\t\t\t// 当前页面\n\t\t\tconsole.log(`当前页面:orderDetail`);\n\n\t\t},\n\t\t// uniapp微信小程序分享页面到微信好友\n\t\tonShareAppMessage() {\n\t\t\t// TODO\t读取缓存分享人ID\n\t\t\treturn {\n\t\t\t\ttitle: this.orderDetailData.title,\n\t\t\t\tpath: `/pages/business/orderDetail/orderDetail?_id=${this.orderDetailData._id}`, //分享的页面路径\n\t\t\t};\n\t\t},\n\t\t// uniapp微信小程序分享页面到微信朋友圈\n\t\tonShareTimeline() {\n\t\t\t// TODO\t读取缓存分享人ID\n\t\t\treturn {\n\t\t\t\ttitle: this.orderDetailData.title,\n\t\t\t\tpath: `/pages/business/orderDetail/orderDetail?_id=${this.orderDetailData._id}`, //分享的页面路径\n\t\t\t\tquery: `_id=${this.orderDetailData._id}`,\n\t\t\t\timageUrl: this.orderDetailData.coverImage[\"url\"],\n\t\t\t};\n\t\t},\n\t\tcreated() {},\n\t};\n</script>\n\n<style>\n\t.title {\n\t\tmargin-left: 5%;\n\t\tmargin-right: 5%;\n\t\tmargin-top: 5%;\n\t\tmargin-buttom: 5%;\n\t\tcolor: black;\n\t}\n\n\t.content {\n\t\tcolor: black;\n\t\tmargin-left: 2%;\n\t\tmargin-right: 2%;\n\t\tmargin-top: 2%;\n\t\tmargin-buttom: 2%;\n\t}\n\n\t.share {\n\t\tcolor: green;\n\t\tmargin-left: 2%;\n\t\tmargin-right: 2%;\n\t\tmargin-top: 2%;\n\t\tmargin-buttom: 2%;\n\t}\n</style>","import mod from \"-!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-2!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./orderDetail.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-2!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./orderDetail.vue?vue&type=style&index=0&lang=css&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1743495974626\n      var cssReload = require(\"/Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"/\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}