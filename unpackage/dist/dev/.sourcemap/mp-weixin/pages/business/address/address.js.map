{"version":3,"sources":["uni-app:///main.js","webpack:////Users/liyinchi/workspace/前端/Dcolud/AI-HK-Digital-Human-fe-mp/pages/business/address/address.vue?fb69","webpack:////Users/liyinchi/workspace/前端/Dcolud/AI-HK-Digital-Human-fe-mp/pages/business/address/address.vue?ef4b","webpack:////Users/liyinchi/workspace/前端/Dcolud/AI-HK-Digital-Human-fe-mp/pages/business/address/address.vue?865f","webpack:////Users/liyinchi/workspace/前端/Dcolud/AI-HK-Digital-Human-fe-mp/pages/business/address/address.vue?76a8","uni-app:///pages/business/address/address.vue","webpack:////Users/liyinchi/workspace/前端/Dcolud/AI-HK-Digital-Human-fe-mp/pages/business/address/address.vue?54e7","webpack:////Users/liyinchi/workspace/前端/Dcolud/AI-HK-Digital-Human-fe-mp/pages/business/address/address.vue?2c2c"],"names":["wx","__webpack_require_UNI_MP_PLUGIN__","__webpack_require__","createPage","Page","data","address","pic","nickName","openID","screenHeight","screenWidth","isEmpty","addressList","cancelText","confirmText","modalShow","loadingText","scrollTop","mode","iconStyle","pageNum","pageSize","total","loading","loadingMore","loadingMoreLoading","loadingMoreEnd","loadingMoreEndLoading","showModalTitle","showModalContent","options1","text","style","backgroundColor","swipeShow","id","onPullDownRefresh","onLoad","console","created","methods","getWechatAddress","uni","success","that","uniCloud","name","method","userID","deliveryAddress","addressee","phone","isEnable","title","fail","complete","swipeActionItemClick","showModalConfirm","setTimeout","showModalCancel","scrolltolower","goto","url","deleteAddress","_id","icon","duration","getMyAddressList","getMore","callFunction","then","catch"],"mappings":";;;;;;;;;;;;;AAAA;AAE2D;AAAuD;AAA4E;AAC9L;AACA;AAHA;AACAA,EAAE,CAACC,iCAAiC,GAAGC,mBAAmB;AAAuD;AAGjHC,UAAU,CAACC,gBAAI,CAAC,C;;;;;;;;;;;;;ACLhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAoH;AACpH;AAC2D;AACL;AACc;;;AAGpE;AACsN;AACtN,gBAAgB,iNAAU;AAC1B,EAAE,6EAAM;AACR,EAAE,kFAAM;AACR,EAAE,2FAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,sFAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA,aAAa,qUAEN;AACP,KAAK;AACL;AACA,aAAa,iSAEN;AACP,KAAK;AACL;AACA,aAAa,uSAEN;AACP,KAAK;AACL;AACA,aAAa,iVAEN;AACP,KAAK;AACL;AACA,aAAa,+WAEN;AACP,KAAK;AACL;AACA,aAAa,uSAEN;AACP,KAAK;AACL;AACA,aAAa,yTAEN;AACP,KAAK;AACL;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;AC/DA;AAAA;AAAA;AAAA;AAAm2B,CAAgB,qyBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;eCuCv3B;EACAC;IACA;MACAC;MAAA;MACAC;MAAA;MACAC;MAAA;MACAC;MAAA;MACAC;MACAC;MACAC;MAAA;MACAC;MAAA;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;QACAC;QACAC;UACAC;QACA;MACA;MACAC;MACAC;IACA;EACA;EACAC;IACA;IACA;EACA;EACAC;IACA;IACAC;IACA;IACA;IACA;IACA;IACA;EAEA;EACAC,6BAEA;EACAC;IACA;IACAC;MACA;MACA;MACAC;QACA;QACAC;UACAL;UACAA;UACAA;UACAA;UACAA;UACAA;UACAA;UACAA;UACA;UACAM;UACA;UACAC;YACAC;YAAA;YACA1C;cACA2C;cACAvC;cACAwC;cACAC;cACAC;cACAC;cACAC;YACA;YACAT;cACAL;cACA;cACAI;gBACAC;kBACAD;oBACAW;kBACA;gBACA;cACA;YACA;YAAA;YACAC;cACAhB;YACA;YAAA;YACAiB,+BAEA;UACA;QACA;MACA;IACA;IACA;IACAC;MACA;MACA;MACA;MACA;IACA;IACA;IACAC;MAAA;MACA;MACA;MACA;MACA;MACA;MACAnB;MACA;MACAoB;QACA;MACA;IACA;IACAC;MACA;MACA;IACA;IACA;IACAC;MACA;IACA;IACA;IACAC;MACAnB;QACAoB;MACA;IACA;IACA;IACAC;MACA;MACA;MACA;MACAlB;QACAC;QACA1C;UACA2C;UACAiB;QACA;QACArB;UACA;UACA;UACA;UACA;;UAEA;UACA;YACA;YACAD;cACAC;gBACAD;kBACAW;gBACA;cACA;cACAE;gBACAX;cACA;YACA;UAEA;YACA;YACAF;cACAW;cACAY;cACAC;YACA;UACA;;UAEA;UACAxB;UACA;UACAE;UACA;UACAF;QACA;MACA;IACA;IACA;IACAyB;MACA;MACA;MACAzB;MACA;MACA;MACA;MACAG;QACAC;QACA1C;UACA;UACA;UACA;UACA;UACA;UACA;QACA;QACAuC;UACAL;YACA;YACA;YACA;YACA;YACA;YACA;UACA;UACAM;UACAN;UACA;UACA;YACAM;UACA;UACA;UACAF;UACA;UACAE;UACA;UACAF;QACA;MACA;IACA;IACA;IACA0B;MACA;MACA;MACA;QACAxB;QACA;MACA;MACAA;MACA;MACAA;MACA;MACAC,SACAwB;QACAvB;QACA1C;UACA2C;UACAC;UACAxC;UACAY;UACAC;UACA+B;QACA;MACA,GACAkB;QACA1B;QACAN;QACA;QACAM;QACAA;QACA;QACA;UACA;UACA;YACAA;UACA;UACA;UACAF;UACAE;UACA;QACA;QACA;QACAF;QACA;QACAA;MACA;MAAA,CACA6B;QACAjC;MACA;IACA;EACA;AAEA;AAAA,2B;;;;;;;;;;;;;AClUA;AAAA;AAAA;AAAA;AAA0lD,CAAgB,o6CAAG,EAAC,C;;;;;;;;;;;ACA9mD;AACA,OAAO,KAAU,EAAE,kBAKd","file":"pages/business/address/address.js","sourcesContent":["import 'uni-pages';\n// @ts-ignore\nwx.__webpack_require_UNI_MP_PLUGIN__ = __webpack_require__;import '@dcloudio/uni-stat/dist/uni-cloud-stat.es.js';;import '@dcloudio/vue-cli-plugin-uni/packages/uni-push/dist/uni-push.es.js';import '@dcloudio/vue-cli-plugin-uni/packages/uni-cloud/dist/index.js';\nimport Vue from 'vue'\nimport Page from './pages/business/address/address.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./address.vue?vue&type=template&id=c36f19fa&\"\nvar renderjs\nimport script from \"./address.vue?vue&type=script&lang=js&\"\nexport * from \"./address.vue?vue&type=script&lang=js&\"\nimport style0 from \"./address.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/business/address/address.vue\"\nexport default component.exports","export * from \"-!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--17-0!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./address.vue?vue&type=template&id=c36f19fa&\"","var components\ntry {\n  components = {\n    uCellGroup: function () {\n      return import(\n        /* webpackChunkName: \"uni_modules/uview-ui/components/u-cell-group/u-cell-group\" */ \"@/uni_modules/uview-ui/components/u-cell-group/u-cell-group.vue\"\n      )\n    },\n    uCell: function () {\n      return import(\n        /* webpackChunkName: \"uni_modules/uview-ui/components/u-cell/u-cell\" */ \"@/uni_modules/uview-ui/components/u-cell/u-cell.vue\"\n      )\n    },\n    uEmpty: function () {\n      return import(\n        /* webpackChunkName: \"uni_modules/uview-ui/components/u-empty/u-empty\" */ \"@/uni_modules/uview-ui/components/u-empty/u-empty.vue\"\n      )\n    },\n    uSwipeAction: function () {\n      return import(\n        /* webpackChunkName: \"uni_modules/uview-ui/components/u-swipe-action/u-swipe-action\" */ \"@/uni_modules/uview-ui/components/u-swipe-action/u-swipe-action.vue\"\n      )\n    },\n    uSwipeActionItem: function () {\n      return import(\n        /* webpackChunkName: \"uni_modules/uview-ui/components/u-swipe-action-item/u-swipe-action-item\" */ \"@/uni_modules/uview-ui/components/u-swipe-action-item/u-swipe-action-item.vue\"\n      )\n    },\n    uModal: function () {\n      return import(\n        /* webpackChunkName: \"uni_modules/uview-ui/components/u-modal/u-modal\" */ \"@/uni_modules/uview-ui/components/u-modal/u-modal.vue\"\n      )\n    },\n    uBackTop: function () {\n      return import(\n        /* webpackChunkName: \"uni_modules/uview-ui/components/u-back-top/u-back-top\" */ \"@/uni_modules/uview-ui/components/u-back-top/u-back-top.vue\"\n      )\n    },\n  }\n} catch (e) {\n  if (\n    e.message.indexOf(\"Cannot find module\") !== -1 &&\n    e.message.indexOf(\".vue\") !== -1\n  ) {\n    console.error(e.message)\n    console.error(\"1. 排查组件名称拼写是否正确\")\n    console.error(\n      \"2. 排查组件是否符合 easycom 规范，文档：https://uniapp.dcloud.net.cn/collocation/pages?id=easycom\"\n    )\n    console.error(\n      \"3. 若组件不符合 easycom 规范，需手动引入，并在 components 中注册该组件\"\n    )\n  } else {\n    throw e\n  }\n}\nvar render = function () {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--13-1!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./address.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--13-1!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./address.vue?vue&type=script&lang=js&\"","<template>\n\t<view>\n\t\t<u-cell-group>\n\t\t\t<u-cell icon=\"integral\" title=\"点击同步微信地址\"  arrow-direction=\"right\"\n\t\t\t\t@click=\"getWechatAddress()\"></u-cell>\n\n\t\t</u-cell-group>\n\t\t<!-- 空数据 -->\n\t\t<view class=\"\">\n\t\t\t<u-empty marginTop=\"100rpx\" :show=\"isEmpty\" mode=\"list\" icon=\"http://cdn.uviewui.com/uview/empty/list.png\"\n\t\t\t\t:width=\"screenWidth\" :height=\"screenHeight\" textSize=\"40\">\n\t\t\t</u-empty>\n\t\t</view>\n\t\t<!-- 列表数据 -->\n\t\t<view v-for=\"(address, index) in addressList\" :key=\"index\" v-show=\"!isEmpty\">\n\t\t\t<u-swipe-action >\n\t\t\t\t<u-swipe-action-item  :show=\"swipeShow\" :options=\"options1\" @click=\"swipeActionItemClick(address._id)\">\n\t\t\t\t\t<view class=\"swipe-action u-border-top u-border-bottom\">\n\t\t\t\t\t\t<view class=\"swipe-action__content\">\n\t\t\t\t\t\t\t<text class=\"swipe-action__content__text\">{{address.addressee}}</text>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t</view>\n\t\t\t\t</u-swipe-action-item>\n\t\t\t</u-swipe-action>\n\t\t</view>\n\t\t<!-- 模态框 -->\n\t\t<u-modal :show=\"modalShow\" @confirm=\"showModalConfirm\" @cancel=\"showModalCancel\" :title=\"showModalTitle\"\n\t\t\t:content=\"showModalContent\" :confirmText=\"confirmText\" :cancelText=\"cancelText\" :showConfirmButton=\"true\"\n\t\t\t:showCancelButton=\"true\" ref=\"uModal\" :asyncClose=\"true\"></u-modal>\n\t\t<!-- 上拉加载更多 -->\n\t\t<view class=\"loading\" v-show=\"!isEmpty\">{{ loadingText }}</view>\n\t\t<!-- 返回顶部 -->\n\t\t<view class=\"wrap\">\n\t\t\t<u-back-top :scroll-top=\"scrollTop\" :mode=\"mode\" :icon-style=\"iconStyle\"></u-back-top>\n\t\t</view>\n\t</view>\n</template>\n\n<script>\n\texport default {\n\t\tdata() {\n\t\t\treturn {\n\t\t\t\taddress: \"\", // 地址\n\t\t\t\tpic: \"\", // 头像\n\t\t\t\tnickName: \"\", // 昵称\n\t\t\t\topenID: \"\", // 微信用户ID\n\t\t\t\tscreenHeight: 0,\n\t\t\t\tscreenWidth: 0,\n\t\t\t\tisEmpty: false, // 是否显示“空数据”\n\t\t\t\taddressList: [], // 列表数据\n\t\t\t\tcancelText: \"取消\",\n\t\t\t\tconfirmText: \"确认\",\n\t\t\t\tmodalShow: false,\n\t\t\t\tloadingText: \"加载中...\",\n\t\t\t\tscrollTop: 0,\n\t\t\t\tmode: \"fixed\",\n\t\t\t\ticonStyle: \"line\",\n\t\t\t\tpageNum: 1,\n\t\t\t\tpageSize: 4,\n\t\t\t\ttotal: 0,\n\t\t\t\tloading: false,\n\t\t\t\tloadingMore: false,\n\t\t\t\tloadingMoreLoading: false,\n\t\t\t\tloadingMoreEnd: false,\n\t\t\t\tloadingMoreEndLoading: false,\n\t\t\t\tshowModalTitle: \"二次确认\",\n\t\t\t\tshowModalContent: \"是否删除地址\",\n\t\t\t\toptions1: [{\n\t\t\t\t\ttext: \"删除\",\n\t\t\t\t\tstyle: {\n\t\t\t\t\t\tbackgroundColor: \"#f56c6c\",\n\t\t\t\t\t},\n\t\t\t\t}, ],\n\t\t\t\tswipeShow:false,\n\t\t\t\tid: \"\",\n\t\t\t};\n\t\t},\n\t\tonPullDownRefresh() {\n\t\t\t// 请求云函数-用户服务地址\n\t\t\tthis.getMyAddressList();\n\t\t},\n\t\tonLoad() {\n\t\t\t// 当前页面\n\t\t\tconsole.log(`当前页面:address`)\n\t\t\t// 读取缓存内容\n\t\t\tthis.openID = uni.getStorageSync(\"openID\");\n\t\t\tthis.userID = uni.getStorageSync(\"userID\");\n\t\t\t// 请求云函数-用户服务地址\n\t\t\tthis.getMyAddressList();// 不能放在created中，且要在获取openID和userID之后\n\t\t\t\n\t\t},\n\t\tcreated(){\n\t\t\t\n\t\t},\n\t\tmethods: {\n\t\t\t// 同步微信地址\n\t\t\tgetWechatAddress() {\n\t\t\t\tvar that = this;\n\t\t\t\t// 调用微信自带收货地址页面\n\t\t\t\tuni.chooseAddress({\n\t\t\t\t\t// 当用户选择地址并确定，触发回调函数Sucess事件\n\t\t\t\t\tsuccess(res) {\n\t\t\t\t\t\tconsole.log(res.userName)\n\t\t\t\t\t\tconsole.log(res.postalCode)\n\t\t\t\t\t\tconsole.log(res.provinceName)\n\t\t\t\t\t\tconsole.log(res.cityName)\n\t\t\t\t\t\tconsole.log(res.countyName)\n\t\t\t\t\t\tconsole.log(res.detailInfo)\n\t\t\t\t\t\tconsole.log(res.nationalCode)\n\t\t\t\t\t\tconsole.log(res.telNumber)\n\t\t\t\t\t\t// 拼接完整地址\n\t\t\t\t\t\tthat.address = `${res.provinceName}${res.cityName}${res.countyName}${res.detailInfo}`\n\t\t\t\t\t\t//  请求云函数，查询是否有该用户的数据\n\t\t\t\t\t\tuniCloud.callFunction({\n\t\t\t\t\t\t\tname: \"address\", // 云函数名\n\t\t\t\t\t\t\tdata: {\n\t\t\t\t\t\t\t\tmethod: \"addAddress\",\n\t\t\t\t\t\t\t\topenID:that.openID,\n\t\t\t\t\t\t\t\tuserID: that.userID,\n\t\t\t\t\t\t\t\tdeliveryAddress: \"\",\n\t\t\t\t\t\t\t\taddressee: that.address,\n\t\t\t\t\t\t\t\tphone: res.telNumber,\n\t\t\t\t\t\t\t\tisEnable: true\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tsuccess: (res) => {\n\t\t\t\t\t\t\t\tconsole.log(\"address addAddress:\" + JSON.stringify(res))\n\t\t\t\t\t\t\t\t// 下拉刷新\n\t\t\t\t\t\t\t\tuni.startPullDownRefresh({\n\t\t\t\t\t\t\t\t\tsuccess() {\n\t\t\t\t\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\t\t\t\t\ttitle:\" 已更新\"\n\t\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t}, // 调用云函数成功处理\n\t\t\t\t\t\t\tfail: (err) => {\n\t\t\t\t\t\t\t\tconsole.error(err)\n\t\t\t\t\t\t\t}, // 调用云函数失败处理\n\t\t\t\t\t\t\tcomplete: () => {\n\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t},\n\t\t\t// 点击\n\t\t\tswipeActionItemClick(id) {\n\t\t\t\t// 显示弹窗\n\t\t\t\tthis.modalShow = true;\n\t\t\t\t// 存储当前点击的收藏商品ID\n\t\t\t\tthis.id = id;\n\t\t\t},\n\t\t\t//  确认弹窗确认按钮\n\t\t\tshowModalConfirm() {\n\t\t\t\t//  关闭确认弹窗\n\t\t\t\tthis.modalShow = false;\n\t\t\t\t// 移除收藏\n\t\t\t\tthis.deleteAddress(this.id);\n\t\t\t\t// 调试输出\n\t\t\t\tconsole.log(`deleteAddress id:${this.id}`);\n\t\t\t\t// 更新\n\t\t\t\tsetTimeout(() => {\n\t\t\t\t\tthis.getMyAddressList();\n\t\t\t\t}, 2000);\n\t\t\t},\n\t\t\tshowModalCancel() {\n\t\t\t\t//  关闭确认弹窗\n\t\t\t\tthis.modalShow = false;\n\t\t\t},\n\t\t\t// 滚动触底\n\t\t\tscrolltolower() {\n\t\t\t\tthis.getMore();\n\t\t\t},\n\t\t\t// 页面跳转\n\t\t\tgoto(url) {\n\t\t\t\tuni.navigateTo({\n\t\t\t\t\turl: url,\n\t\t\t\t});\n\t\t\t},\n\t\t\t// 移除我的收藏\n\t\t\tdeleteAddress(id) {\n\t\t\t\t// 重写this为that\n\t\t\t\tvar that = this;\n\t\t\t\t// 请求云函数-获取分类第2个数据，即约定第2个分类是家政\n\t\t\t\tuniCloud.callFunction({\n\t\t\t\t\tname: \"address\",\n\t\t\t\t\tdata: {\n\t\t\t\t\t\tmethod: \"deleteAddress\",\n\t\t\t\t\t\t_id: id,\n\t\t\t\t\t},\n\t\t\t\t\tsuccess: (res) => {\n\t\t\t\t\t\t// todo  刷新页面\n\t\t\t\t\t\t// that.addressList = res.result.data;\n\t\t\t\t\t\t// console.log(\"that.addressList:\", that.addressList);\n\t\t\t\t\t\t//\n\t\t\t\t\t\t\n\t\t\t\t\t\t//  判断是否删除成功\n\t\t\t\t\t\tif (res.result.data.affectedDocs == 1) {\n\t\t\t\t\t\t\t// 下拉刷新\n\t\t\t\t\t\t\tuni.startPullDownRefresh({\n\t\t\t\t\t\t\t\tsuccess() {\n\t\t\t\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\t\t\t\ttitle:\" 已更新\"\n\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\tcomplete() {\n\t\t\t\t\t\t\t\t\tthat.swipeShow=false;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t//  提示\n\t\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\t\ttitle: \"删除失败\",\n\t\t\t\t\t\t\t\ticon: \"none\",\n\t\t\t\t\t\t\t\tduration: 2000,\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t\t\n\t\t\t\t\t\t// 隐藏顶栏加载logding\n\t\t\t\t\t\tuni.hideNavigationBarLoading();\n\t\t\t\t\t\t// 关键，决定是否进行加载数据\n\t\t\t\t\t\tthat.loadingText = \"加载更多\";\n\t\t\t\t\t\t// 实际开发中通常是网络请求，加载完数据后就停止。这里仅做演示，加延迟为了体现出效果。\n\t\t\t\t\t\tuni.stopPullDownRefresh();\n\t\t\t\t\t},\n\t\t\t\t});\n\t\t\t},\n\t\t\t// 获取我的地址列表\n\t\t\tgetMyAddressList() {\n\t\t\t\tthis.pageNum = 1;\n\t\t\t\t// 显示loading\n\t\t\t\tuni.showNavigationBarLoading();\n\t\t\t\t// 重写this为that\n\t\t\t\tvar that = this;\n\t\t\t\t// 请求云函数\n\t\t\t\tuniCloud.callFunction({\n\t\t\t\t\tname: \"address\",\n\t\t\t\t\tdata: {\n\t\t\t\t\t\t\"method\": \"getAddress\",\n\t\t\t\t\t\t\"pageNum\": that.pageNum,\n\t\t\t\t\t\t\"pageSize\": that.pageSize,\n\t\t\t\t\t\t\"isEnable\": true,\n\t\t\t\t\t\t\"userID\": that.userID,\n\t\t\t\t\t\t\"openID\": that.openID,\n\t\t\t\t\t},\n\t\t\t\t\tsuccess: (res) => {\n\t\t\t\t\t\tconsole.log(\"getAddress request data\",{\n\t\t\t\t\t\t\"method\": \"getAddress\",\n\t\t\t\t\t\t\"pageNum\": that.pageNum,\n\t\t\t\t\t\t\"pageSize\": that.pageSize,\n\t\t\t\t\t\t\"isEnable\": true,\n\t\t\t\t\t\t\"userID\": that.userID,\n\t\t\t\t\t\t\"openID\": that.openID\n\t\t\t\t\t})\n\t\t\t\t\t\tthat.addressList = res.result.data;\n\t\t\t\t\t\tconsole.log(\"that.addressList res:\", res.result.data);\n\t\t\t\t\t\t// 是否空数据\n\t\t\t\t\t\tif (that.addressList.length == 0) {\n\t\t\t\t\t\t\tthat.isEmpty = true;\n\t\t\t\t\t\t}\n\t\t\t\t\t\t// 隐藏顶栏加载logding\n\t\t\t\t\t\tuni.hideNavigationBarLoading();\n\t\t\t\t\t\t// 关键，决定是否进行加载数据\n\t\t\t\t\t\tthat.loadingText = \"加载更多\";\n\t\t\t\t\t\t// 实际开发中通常是网络请求，加载完数据后就停止。这里仅做演示，加延迟为了体现出效果。\n\t\t\t\t\t\tuni.stopPullDownRefresh();\n\t\t\t\t\t},\n\t\t\t\t});\n\t\t\t},\n\t\t\t// 加载更多\n\t\t\tgetMore() {\n\t\t\t\tvar that = this;\n\t\t\t\t// 判断当前是否数据可加载\n\t\t\t\tif (that.loadingText != \"\" && that.loadingText != \"加载更多\") {\n\t\t\t\t\tthat.loadingText = \"到底啦~\";\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\tthat.loadingText = \"加载中...\";\n\t\t\t\t// 页面加载\n\t\t\t\tthat.pageNum++;\n\t\t\t\t// 调用云函数，获取列表\n\t\t\t\tuniCloud\n\t\t\t\t\t.callFunction({\n\t\t\t\t\t\tname: \"address\",\n\t\t\t\t\t\tdata: {\n\t\t\t\t\t\t\tmethod: \"getAddress\",\n\t\t\t\t\t\t\tuserID: that.userID,\n\t\t\t\t\t\t\topenID: that.openID,\n\t\t\t\t\t\t\tpageNum: that.pageNum,\n\t\t\t\t\t\t\tpageSize: that.pageSize,\n\t\t\t\t\t\t\tisEnable: true,\n\t\t\t\t\t\t},\n\t\t\t\t\t})\n\t\t\t\t\t.then((res) => {\n\t\t\t\t\t\tthat.loadingText = \"\";\n\t\t\t\t\t\tconsole.log(\"getMore res：\",res);\n\t\t\t\t\t\t// 新旧数据拼接\n\t\t\t\t\t\tthat.addressList = that.addressList.concat(res.result.data);\n\t\t\t\t\t\tthat.loadingText = \"加载更多\";\n\t\t\t\t\t\t// 判断是否加载完毕\n\t\t\t\t\t\tif (res.result.data.length == 0) {\n\t\t\t\t\t\t\t// 是否空数据\n\t\t\t\t\t\t\tif (that.addressList.length == 0) {\n\t\t\t\t\t\t\t\tthat.isEmpty = true;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t//在当前页面隐藏导航条加载动画。\n\t\t\t\t\t\t\tuni.hideNavigationBarLoading();\n\t\t\t\t\t\t\tthat.loadingText = \"已加载全部\";\n\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t}\n\t\t\t\t\t\t// 隐藏loading\n\t\t\t\t\t\tuni.hideNavigationBarLoading();\n\t\t\t\t\t\t// 实际开发中通常是网络请求，加载完数据后就停止。这里仅做演示，加延迟为了体现出效果。\n\t\t\t\t\t\tuni.stopPullDownRefresh();\n\t\t\t\t\t}) // success\n\t\t\t\t\t.catch((err) => {\n\t\t\t\t\t\tconsole.log(err);\n\t\t\t\t\t}); // fail\n\t\t\t},\n\t\t},\n\n\t}\n</script>\n\n<style lang=\"scss\">\n\t.loading {\n\t\ttext-align: center;\n\t\tcolor: #8f8f94;\n\t}\n\t.u-page {\n\t\tpadding: 0;\n\t}\n\n\t.u-demo-block__title {\n\t\tpadding: 10px 0 2px 15px;\n\t}\n\n\t.swipe-action {\n\t\t&__content {\n\t\t\tpadding: 25rpx 0;\n\n\t\t\t&__text {\n\t\t\t\tfont-size: 15px;\n\t\t\t\tcolor: $u-main-color;\n\t\t\t\tpadding-left: 30rpx;\n\t\t\t}\n\t\t}\n\t}\n</style>","import mod from \"-!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./address.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./address.vue?vue&type=style&index=0&lang=scss&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1743495983852\n      var cssReload = require(\"/Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"/\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}