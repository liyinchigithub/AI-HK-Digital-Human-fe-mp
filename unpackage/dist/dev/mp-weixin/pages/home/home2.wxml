<view class="container data-v-1dbc7dbc"><scroll-view class="message-list data-v-1dbc7dbc" scroll-y="{{true}}" scroll-top="{{scrollTop}}" scroll-with-animation="{{true}}"><block wx:for="{{messages}}" wx:for-item="item" wx:for-index="index" wx:key="index"><view class="{{['message-item','data-v-1dbc7dbc',item.role==='user'?'user-message':'ai-message']}}"><view class="message-content data-v-1dbc7dbc">{{''+item.content+''}}</view><view class="message-time data-v-1dbc7dbc">{{''+item.time+''}}</view></view></block><block wx:if="{{loading}}"><view class="loading-text data-v-1dbc7dbc">AI正在思考中...</view></block></scroll-view><view class="input-area data-v-1dbc7dbc"><button data-event-opts="{{[['touchstart',[['startRecord',['$event']]]],['touchend',[['stopRecord',['$event']]]]]}}" class="{{['voice-btn','data-v-1dbc7dbc',(isRecording)?'recording':'']}}" bindtouchstart="__e" bindtouchend="__e"></button><input class="input data-v-1dbc7dbc" placeholder="请输入问题" disabled="{{loading}}" data-event-opts="{{[['confirm',[['sendMessage',['$event']]]],['input',[['__set_model',['','inputText','$event',[]]]]]]}}" value="{{inputText}}" bindconfirm="__e" bindinput="__e"/><button class="send-button data-v-1dbc7dbc" disabled="{{loading}}" data-event-opts="{{[['tap',[['sendMessage',['$event']]]]]}}" bindtap="__e">{{''+(loading?'发送中...':'发送')+''}}</button></view></view>